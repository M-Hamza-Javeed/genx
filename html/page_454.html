<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:224pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 17. Portability</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">For programs that involve GUIs, Java developers seeking portability will, for the foreseeable future,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">face a choice: Stay in JDK 1.1/AWT with a poorly designed toolkit for maximum portability</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">(including to Microsoft Windows), or get the better toolkit and capabilities of JDK 1.2 at the cost of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">sacri&#xfb01;cing some portability.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Finally, as we noted previously, the Java thread support has portability problems.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:410pt"><span style="font-family:Times,serif;font-size:9.963pt">The Java API,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">unlike less ambitious operating-system bindings for other languages, bravely tried to bridge the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">gaps between the diverging process models offered by different operating systems. It does not quite</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">manage the trick.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Emacs Lisp Portability</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:240pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Emacs Lisp portability is excellent. Emacs installations tend to be upgraded frequently, so seriously</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:252pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">out-of-date environments are rare. The same extension Lisp is supported everywhere and effectively</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:264pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">all extensions are shipped with Emacs itself.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Then, too, the primitive set of Emacs is quite stable.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:296pt"><span style="font-family:Times,serif;font-size:9.963pt">It achieved completeness for the things an</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">editor has to do (manipulating buffers, bashing text) years ago.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:341pt"><span style="font-family:Times,serif;font-size:9.963pt">Only the introduction of X has</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">disturbed this picture at all, and very few Emacs modes need to be aware of X. Portability problems</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:321pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">are usually manifestations of quirks in the C-level bindings of operating-system facilities; control</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:333pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of subordinate processes in modes like mail agents is about the only issue where such problems</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">manifest with any frequency.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:368pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Avoiding System Dependencies</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:394pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Once your language and support libraries are chosen, the next portability issue is usually the location</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:406pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of key system &#xfb01;les and directories: mail spools, log&#xfb01;le directories and the like. The archetype of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:418pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">this sort of problem is whether the mail spool directory is</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> /var/spool/mail</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> or</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> /var/mail</span></tt><span style="font-family:Times,serif;font-size:9.963pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:440pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Often, you can avoid this sort of dependency by stepping back and reframing the problem. Why are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:452pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">you opening a &#xfb01;le in the mail spool directory, anyway? If you&#x2019;re writing to it, wouldn&#x2019;t it be better</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:464pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to simply invoke the local mail transport agent to do it for you so the &#xfb01;le-locking gets done right?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:476pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">If you&#x2019;re reading from it, might it be better to query it through a POP3 or IMAP server?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:497pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The same sort of question applies elsewhere.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:497pt;left:274pt"><span style="font-family:Times,serif;font-size:9.963pt">If you &#xfb01;nd yourself opening log&#xfb01;les manually,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:509pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">shouldn&#x2019;t you be using syslog(3) instead? Function-call interfaces through the C library are better</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:521pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">standardized than system &#xfb01;le locations. Use that fact!</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">453</span></p>
</div>
