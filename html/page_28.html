<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:108pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Reducing Boilerplate with Plugin Development</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 12 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The view named </span><span style="font-family:CourierStd,serif;font-size:9.5pt">UserItemView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> is a simple Backbone view where we want to </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:127pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">display our model data inside a template and append this view element to the DOM. </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:140pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">This is a fundamental functionality of Backbone where the primary requirement is </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:153pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">to display a model&apos;s data as a view. If we have another similar view with a model, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:165pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">and this has the same functionality, the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">render()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> function will also be identical. That </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:178pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">said, won&apos;t it be beneficial if we move the common code to a base class and extend </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:190pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">that class to inherit the functionality? The answer is yes. Let&apos;s see how we can do that </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">in the example in the following section.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:234pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">Creating a base class</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:256pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">We create a </span><span style="font-family:CourierStd,serif;font-size:9.5pt">BaseView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> class where common functionality such as the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">render()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:269pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">method is added. Then all other view classes can extend from this base class, and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:281pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">eventually inherit the rendering functionality. The following is the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">BaseView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> class </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:294pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">with minimal rendering functionality:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:315pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Parent view which has the render function</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:327pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var BaseView = Backbone.View.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:340pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  render: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:352pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    var tpl = _.template(this.template),</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:364pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      data = (this.model) ? this.model.toJSON() : {},</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:376pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      html = tpl(data);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    this.$el.html(html);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    return this;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:425pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:438pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:457pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Now, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">UserItemView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> will look much better. We will extend the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">BaseView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> class and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:469pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">will provide only the template as follows:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:491pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// A simpler view class</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:503pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var UserItemView = BaseView.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:515pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  template: &apos;&lt;span&gt;&lt;%= name %&gt;&lt;/span&gt;&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:528pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:561pt;left:170pt"><b><span style="font-family:BookAntiqua,serif;font-size:9.5pt">Downloading the example code</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:575pt;left:170pt"><span style="font-family:BookAntiqua,serif;font-size:9.5pt">You can download the example code files for all Packt books you have </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:586pt;left:170pt"><span style="font-family:BookAntiqua,serif;font-size:9.5pt">purchased from your account at </span><span style="font-family:CourierStd,serif;font-size:9.5pt">http://www.packtpub.com</span><span style="font-family:BookAntiqua,serif;font-size:9.5pt">. If you </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:598pt;left:170pt"><span style="font-family:BookAntiqua,serif;font-size:9.5pt">purchased this book elsewhere, you can visit </span><span style="font-family:CourierStd,serif;font-size:9.5pt">http://www.packtpub.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:609pt;left:170pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">com/support</span><span style="font-family:BookAntiqua,serif;font-size:9.5pt"> and register to have the files e-mailed directly to you.</span></p>
</div>
