<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:468pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Chapter 2</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 55 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">This is exactly the same as our </span><span style="font-family:CourierStd,serif;font-size:9.5pt">UserItem</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> view definition with an extra </span><span style="font-family:CourierStd,serif;font-size:9.5pt">setModel()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:127pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">method that sets the model to the selected one. Now we will insert this view into the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:140pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">layout when we click a list item. For that, we will add a click event handler to the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:153pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">UserItem</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> view as shown in the following code:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:174pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var UserItem = Backbone.View.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:186pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  ...</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:199pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  events: {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:211pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    &apos;click a&apos;: &apos;showDetails&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:223pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  },</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:247pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  showDetails: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:260pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    // Check Whether details view exists</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:272pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    var detailsView = mainLayout.getView(&apos;.user-details&apos;);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:296pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    // If details view doesn&apos;t exist, create one, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    // set the new model and render it</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:321pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    if (!detailsView) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:333pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      mainLayout.setView(&apos;.user-details&apos;, new UserDetails().</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:344pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">setModel(this.model).render());</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:356pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    } else {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:368pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      // Set the latest clicked model and re-render</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:381pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      detailsView.setModel(this.model).render();</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:393pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:405pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:417pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:437pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">We use the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">getView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method that can retrieve a view based on multiple criterion such </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:449pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">as selector, model, or function. We check whether the details view is available or not. </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:462pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">If not, we create a </span><span style="font-family:CourierStd,serif;font-size:9.5pt">DetailsView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> instance, set the model, and render it. Otherwise, we </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:474pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">reset the model and re-render the view.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:496pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">So, we are done with the complete layout management. It is observed that most of </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:508pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the rendering functionalities are handled by the manager itself. This is just a basic </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:521pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">example; </span><span style="font-family:CourierStd,serif;font-size:9.5pt">LayoutManager</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> can provide many more options and functionalities and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:533pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">eliminate 90 percent of your view management tasks. Do read their documentation </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:546pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">thoroughly as you will be able to use most of it in your application.</span></p>
</div>
