<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:108pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Working with Views</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 30 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">To give you an example, assume that we have a collection of similar data and we </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:127pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">need to display a list item for each type of data. In this case, it is always preferable </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:140pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">to have separate views and models that give an option to control the behavior of the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:153pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">view attached to each model. When you click on an item, you may need to use the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:165pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">data for that item for further processing. If the item is a subview, we can get the data </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:178pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">readily from the model attached to it. We will explain this concept in the example </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:190pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">that follows.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:212pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">We have seen </span><span style="font-family:CourierStd,serif;font-size:9.5pt">UserItemView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> in </span><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Chapter 1</span></i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Reducing Boilerplate with Plugin </span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:224pt;left:108pt"><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Development</span></i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, which uses the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">User</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> model. Now, let&apos;s introduce a collection  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:237pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">of user data that will be displayed as a list:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:258pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var User = Backbone.Model.extend();</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:283pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Users collection</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:295pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var Users = Backbone.Collection.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:307pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  model: User</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:319pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:344pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Add some data in the collection</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:356pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var users = new Users([{</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:368pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  id: 1,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:381pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  name: &apos;John Doe&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:393pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}, {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:405pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  id: 2,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:417pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  name: &apos;Dan Smith&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:430pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}]);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:449pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Initially, we will use only one view to render the complete collection by creating  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:461pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">a </span><span style="font-family:CourierStd,serif;font-size:9.5pt">UsersView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:483pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var UsersView = Backbone.View.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:495pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  tagName: &apos;ul&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:507pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  render: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:520pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    var html = &apos;&apos;;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:544pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    // Iterate over the collection and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:556pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    // add each name as a list item</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:569pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    this.collection.each(function (model) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      html += &apos;&lt;li&gt;&apos; + model.get(&apos;name&apos;) + &apos;&lt;/li&gt;&apos;;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:593pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    }, this);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:618pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    this.$el.html(html);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:630pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    return this;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:642pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
</div>
