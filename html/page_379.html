<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:223pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 14. Languages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:97pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">A Small Python Case Study:</span></b><b><i><span style="font-family:Helvetica,sans-serif;font-size:11.955pt"> imgsizer</span></i></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:122pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Imgsizer is a utility that rewrites WWW pages so that image-inclusion tags get the right image</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">size parameters automatically plugged in (this speeds up page loading on many browsers). You</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">can &#xfb01;nd sources and documentation in the URL WWW tools subdirectory of the ibiblio archive</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">[http://www.ibiblio.org].</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:179pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">imgsizer</span></i><span style="font-family:Times,serif;font-size:9.963pt"> was originally written in Perl, and was a nearly ideal example of the sort of small, pattern-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:191pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">driven text-processing tool at which Perl excels. It was later translated to Python to take advantage</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of Python&#x2019;s library support for HTTP fetching; this eliminated a dependency on an external page-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">fetching utility.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:147pt"><span style="font-family:Times,serif;font-size:9.963pt">Observe the use of &#xfb01;le(1) and ImageMagick identify(1) as specialist tools for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">extracting the pixel sizes of images.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:249pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The dynamic string handling and sophisticated regular-expression matching required would have</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">made</span><i><span style="font-family:Times,serif;font-size:9.963pt"> imgsizer</span></i><span style="font-family:Times,serif;font-size:9.963pt"> quite painful to write in C or C++; that version would also have been much larger</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and harder to read. Java would have solved the implicit memory-management problem, but is hardly</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">more expressive than C or C++ at text pattern matching.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:307pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">A Medium-Sized Python Case Study:</span></b><b><i><span style="font-family:Helvetica,sans-serif;font-size:11.955pt"> fetchmailconf</span></i></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:331pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In Chapter 11 we examined the</span><i><span style="font-family:Times,serif;font-size:9.963pt"> fetchmail</span></i><span style="font-family:Times,serif;font-size:9.963pt">/</span><i><span style="font-family:Times,serif;font-size:9.963pt">fetchmailconf</span></i><span style="font-family:Times,serif;font-size:9.963pt"> pair as an example of one way to separate</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:343pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">implementation from interface. Python&#x2019;s strengths are well illustrated by</span><i><span style="font-family:Times,serif;font-size:9.963pt"> fetchmailconf</span></i><span style="font-family:Times,serif;font-size:9.963pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:365pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">fetchmailconf</span></i><span style="font-family:Times,serif;font-size:9.963pt"> uses the Tk toolkit to implement a multi-panel GUI con&#xfb01;guration editor (Python</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:377pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">bindings also exist for GTK+ and other toolkits, but Tk bindings ship with every Python interpreter).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:399pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In expert mode, the GUI supports editing of about sixty attributes divided among three panel levels.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:411pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Attribute widgets include a mix of checkboxes, radio buttons, text &#xfb01;elds, and scrolling listboxes.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:423pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Despite this complexity, the &#xfb01;rst fully-functional version of the con&#xfb01;gurator took me less than a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:435pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">week to design and code, counting the four days it took to learn Python and Tk.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:457pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Python excels at rapid prototyping of GUI interfaces, and (as</span><i><span style="font-family:Times,serif;font-size:9.963pt"> fetchmailconf</span></i><span style="font-family:Times,serif;font-size:9.963pt"> illustrates) such proto-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:469pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">types are often deliverable. Perl and Tcl have similar strengths in this area (including the Tk toolkit,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:481pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">which was written for Tcl) but are hard to control at the complexity level (approximately 1400 lines)</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:493pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of</span><i><span style="font-family:Times,serif;font-size:9.963pt"> fetchmailconf</span></i><span style="font-family:Times,serif;font-size:9.963pt">. Emacs Lisp is not suited for GUI programming. Choosing Java would have in-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:505pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">creased the complexity overhead of this programming task without delivering signi&#xfb01;cant bene&#xfb01;ts</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:517pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">for this nonspeed-intensive application.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">378</span></p>
</div>
