<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:218pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 8. Minilanguages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In Chapter 5 we looked at Unix conventions for data &#xfb01;les.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:320pt"><span style="font-family:Times,serif;font-size:9.963pt">There&#x2019;s a spectrum of complexity in</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">these.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:104pt"><span style="font-family:Times,serif;font-size:9.963pt">At the low end are &#xfb01;les that make simple associations between names and properties; the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">/etc/passwd</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> and</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> .newsrc</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> formats are good examples.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:321pt"><span style="font-family:Times,serif;font-size:9.963pt">Further up the scale we start to get</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">formats that marshal or serialize data structures; the PNG and SNG formats are (equivalent) good</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">examples of this.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">A structured data-&#xfb01;le format starts to border on being a minilanguage when it expresses not just</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">structure but actions performed on some interpretive context (that is, memory that is outside the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">data &#xfb01;le itself).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:148pt"><span style="font-family:Times,serif;font-size:9.963pt">XML markups tend to straddle this border; the example we&#x2019;ll look at here is</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:71pt"><i><span style="font-family:Times,serif;font-size:9.963pt">Glade</span></i><span style="font-family:Times,serif;font-size:9.963pt">, a code generator for building GUI interfaces. Formats that are both designed to be read and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:217pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">written by humans (rather than just programs) and are used to generate code, are &#xfb01;rmly in the realm</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:229pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">of minilanguages.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:229pt;left:155pt"><i><span style="font-family:Times,serif;font-size:9.963pt">yacc</span></i><span style="font-family:Times,serif;font-size:9.963pt"> and</span><i><span style="font-family:Times,serif;font-size:9.963pt"> lex</span></i><span style="font-family:Times,serif;font-size:9.963pt"> are the classic examples.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:229pt;left:320pt"><span style="font-family:Times,serif;font-size:9.963pt">We&#x2019;ll discuss</span><i><span style="font-family:Times,serif;font-size:9.963pt"> glade</span></i><span style="font-family:Times,serif;font-size:9.963pt">,</span><i><span style="font-family:Times,serif;font-size:9.963pt"> yacc</span></i><span style="font-family:Times,serif;font-size:9.963pt"> and</span><i><span style="font-family:Times,serif;font-size:9.963pt"> lex</span></i><span style="font-family:Times,serif;font-size:9.963pt"> in</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:241pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 9.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:263pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The Unix macro processor,</span><i><span style="font-family:Times,serif;font-size:9.963pt"> m4</span></i><span style="font-family:Times,serif;font-size:9.963pt">, is another very simple declarative minilanguage (that is, one in</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:275pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">which the program is expressed as a set of desired relationships or constraints rather than explicit</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:287pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">actions). It has often been used as a preprocessing stage for other minilanguages.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Unix make&#xfb01;les, which are designed to automate build processes, express dependency relationships</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:317pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">between source and derived &#xfb01;les</span><sup><span style="font-family:Times,serif;font-size:6.273pt">79</span></sup><sup><span style="font-family:Times,serif;font-size:9.963pt"> </span></sup><span style="font-family:Times,serif;font-size:9.963pt">and the commands required to make each derived &#xfb01;le from its</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:333pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">sources. When you run make, it uses those declarations to walk the implied tree of dependencies,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">doing the least work necessary to bring your build up to date.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:335pt"><span style="font-family:Times,serif;font-size:9.963pt">Like</span><i><span style="font-family:Times,serif;font-size:9.963pt"> yacc</span></i><span style="font-family:Times,serif;font-size:9.963pt"> and</span><i><span style="font-family:Times,serif;font-size:9.963pt"> lex</span></i><span style="font-family:Times,serif;font-size:9.963pt"> speci&#xfb01;cations,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:357pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">make&#xfb01;les are a declarative minilanguage; they set up constraints that imply actions performed on an</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:369pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">interpretive context (in this case, the portion of the &#xfb01;le system where the source and generated &#xfb01;les</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:381pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">live). We&#x2019;ll return to make&#xfb01;les in Chapter 15.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">XSLT, the language used to describe transformations of XML, is at the high end of complexity for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:415pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">declarative minilanguages. It&#x2019;s complex enough that it&#x2019;s not normally thought of as a minilanguage</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:427pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">at all, but it shares some important characteristic of such languages which we&#x2019;ll examine when we</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:439pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">look at it in more detail below.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:460pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The spectrum of minilanguages ranges from declarative (with implicit actions) to imperative (with</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:472pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">explicit actions).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:472pt;left:153pt"><span style="font-family:Times,serif;font-size:9.963pt">The run-control syntax of fetchmail(1) can be viewed as either a very weak</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:484pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">imperative language or a declarative language with implied control &#xfb02;ow.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:484pt;left:371pt"><span style="font-family:Times,serif;font-size:9.963pt">The troff and PostScript</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:504pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">79</span><span style="font-family:Times,serif;font-size:7.97pt">For less technical readers: the compiled form of a C program is derived from its C source form by compilation and linkage.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:514pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">The PostScript version of a troff document is derived from the troff source; the command to make the former from the latter</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:523pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">is a</span><i><span style="font-family:Times,serif;font-size:7.97pt"> troff</span></i><span style="font-family:Times,serif;font-size:7.97pt"> invocation. There are many other kinds of derivation; make&#xfb01;les can express almost all of them.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">218</span></p>
</div>
