<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:227pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 5. Textuality</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">to 7000 instructions.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:203pt"><span style="font-family:Times,serif;font-size:9.963pt">For graphics, bandwidth becomes everything on output;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">hardware is designed such that these days the graphics-card bus is</span><i><span style="font-family:Times,serif;font-size:9.963pt"> the</span></i><span style="font-family:Times,serif;font-size:9.963pt"> bottleneck</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">for small operations, so any protocol had better be very tight if it is not to be a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">worse bottleneck. This is the extreme case.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:160pt;left:315pt"><span style="font-family:Times,serif;font-size:9.963pt;color:#ff0000">&lt;author&gt;JimGettys&lt;/author&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">These concerns are valid in other extreme cases as well as in X &#x2014; for example, in the design of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">graphics &#xfb01;le formats intended to hold very large images. But they are usually just another case</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of premature-optimization fever.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:214pt"><span style="font-family:Times,serif;font-size:9.963pt">Textual formats don&#x2019;t necessarily have much lower bit density</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:217pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">than binary ones; they do after all use seven out of eight bits per byte. And what you gain by not</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:229pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">having to parse text, you generally lose the &#xfb01;rst time you need to generate a test load, or to eyeball</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:241pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a program-generated example of your format and &#xfb01;gure out what&#x2019;s in there.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:262pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In addition, the kind of thinking that goes into designing tight binary formats tends to fall down on</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:274pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">making them cleanly extensible. The X designers experienced this:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:296pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">Against the current X framework is the fact we didn&#x2019;t design enough of a structure</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:308pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">to make it easier to ignore trivial extensions to the protocol; we can do this some</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:320pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">of the time, but a bit better framework would have been good.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:332pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:344pt;left:315pt"><span style="font-family:Times,serif;font-size:9.963pt;color:#ff0000">&lt;author&gt;JimGettys&lt;/author&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:365pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">When you think you have an extreme case that justi&#xfb01;es a binary &#xfb01;le format or protocol, you need to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:377pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">think very carefully about extensibility and leaving room in the design for growth.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:399pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Case Study: Unix Password File Format</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:425pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">On many operating systems, the per-user data required to validate logins and start a user&#x2019;s session</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:437pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">is an opaque binary database. Under Unix, by contrast, it&#x2019;s a text &#xfb01;le with records one per line and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:449pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">colon-separated &#xfb01;elds.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:471pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Example 5.1 consists of some randomly-chosen example lines:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:492pt;left:72pt"><b><span style="font-family:Times,serif;font-size:11.955pt">Example 5.1. Password &#xfb01;le example.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:528pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">games:*:12:100:games:/usr/games:</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:538pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">gopher:*:13:30:gopher:/usr/lib/gopher-data:</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">133</span></p>
</div>
