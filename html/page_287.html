<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:217pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 10. Con&#xfb01;guration</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">An alternative way of dealing with such situations, which doesn&#x2019;t clutter up either</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">the code or the manual much, is to have a &#x201c;set option variable&#x201d; option, such as the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:108pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">-O</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> option of</span><i><span style="font-family:Times,serif;font-size:9.963pt"> sendmail</span></i><span style="font-family:Times,serif;font-size:9.963pt">, which lets you specify an option name and value, and sets</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">that name to that value as if such a setting had been given in a con&#xfb01;guration &#xfb01;le.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">A more powerful variant of this is what</span><i><span style="font-family:Times,serif;font-size:9.963pt"> ssh</span></i><span style="font-family:Times,serif;font-size:9.963pt"> does with its</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> -o</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> option: the argument</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:160pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">to</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> -o</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> is treated as if it were a line appended to the con&#xfb01;guration &#xfb01;le, with the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:172pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">full con&#xfb01;g-&#xfb01;le syntax available.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:172pt;left:248pt"><span style="font-family:Times,serif;font-size:9.963pt">Either of these approaches gives people with</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:183pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">unusual requirements a way to override con&#xfb01;guration from the command line,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:195pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">without requiring you to provide a separate option for each bit of con&#xfb01;guration</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:207pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">that might be overridden.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:219pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:231pt;left:298pt"><span style="font-family:Times,serif;font-size:9.963pt;color:#ff0000">&lt;author&gt;HenrySpencer&lt;/author&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:264pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Case Study: The XFree86 Server</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:290pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The X windowing system is the engine that supports bitmapped displays on Unix machines. Unix</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:302pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">applications running through a client machine with a bitmapped display get their input events</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:314pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">through X and send screen-painting requests to it.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:314pt;left:287pt"><span style="font-family:Times,serif;font-size:9.963pt">Confusingly, X &#x2018;servers&#x2019; actually run on the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:326pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">client machine &#x2014; they exist to serve requests to interact with the client machine&#x2019;s display device.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:338pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The applications sending those requests to the X server are called &#x2018;X clients&#x2019;, even though they may</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:350pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">be running on a server machine. And no, there is no way to explain this inverted terminology that is</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:362pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">not confusing.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:384pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">X servers have a forbiddingly complex interface to their environment. This is not surprising, as they</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:395pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">have to deal with a wide range of complex hardware and user preferences. The environment queries</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:407pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">common to all X servers, documented on the X(1) and Xserver(1) pages, therefore make a useful</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:419pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">example for study.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:419pt;left:154pt"><span style="font-family:Times,serif;font-size:9.963pt">The implementation we examine here is XFree86, the X implementation used</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:431pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">under Linux and several other open-source Unixes.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:453pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">At startup, the XFree86 server examines a systemwide run-control &#xfb01;le; the exact pathname varies</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:465pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">between X builds on different platforms, but the basename is XF86Con&#xfb01;g. The XF86Con&#xfb01;g &#xfb01;le has</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:477pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a shell-like syntax as described above. Example 10.2 is a sample section of an XF86Con&#xfb01;g &#xfb01;le.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:499pt;left:72pt"><b><span style="font-family:Times,serif;font-size:11.955pt">Example 10.2. X con&#xfb01;guration example.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:535pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># The 16-color VGA server</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">286</span></p>
</div>
