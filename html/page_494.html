<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:219pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 19. Open Source</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Never intrude on the namespace of any other part of the system, including &#xfb01;lenames, error return</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">values and function names. Where the namespace is shared, document the portion of the namespace</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">that you use.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Choose a coding standard. The debate over the choice of standard can go on forever &#x2014; regardless,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">it is too dif&#xfb01;cult and expensive to maintain software built using multiple coding standards, and so</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">some common style must be chosen. Enforce your coding standard ruthlessly, as consistency and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">cleanliness of the code are of the highest priority; the details of the coding standard itself are a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">distant second.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:216pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Good Distribution-Making Practice</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:242pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">These guidelines describe how your distribution should look when someone downloads, retrieves</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:254pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and unpacks it.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:276pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Make sure tarballs always unpack into a single new directory.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:300pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The single most annoying mistake &#xfb02;edgling contributors make is to build tarballs that unpack the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:312pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#xfb01;les and directories in the distribution into the current directory, potentially overwriting &#xfb01;les already</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:324pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">located there.</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Never do this!</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:346pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Instead, make sure your archive &#xfb01;les all have a common directory part named after the project, so</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:358pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">they will unpack into a single top-level directory directly</span><i><span style="font-family:Times,serif;font-size:9.963pt"> beneath</span></i><span style="font-family:Times,serif;font-size:9.963pt"> the current one. Conventionally,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:370pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the name of the directory should be the same as the stem of the tarball&#x2019;s name. So, for example, a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:382pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">tarball named</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> foo-0.23.tar.gz</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> is expected to unpack into a subdirectory named</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> foo-0.23</span></tt><span style="font-family:Times,serif;font-size:9.963pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:404pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Example 19.1 shows a make&#xfb01;le trick that, assuming your distribution directory is named &#x201c;foobar&#x201d;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:416pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and SRC contains a list of your distribution &#xfb01;les, accomplishes this.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:438pt;left:72pt"><b><span style="font-family:Times,serif;font-size:11.955pt">Example 19.1.</span></b><b><i><span style="font-family:Times,serif;font-size:11.955pt"> tar</span></i></b><b><span style="font-family:Times,serif;font-size:11.955pt"> archive maker production.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:474pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">foobar-$(VERS).tar.gz:</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:484pt;left:77pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">@ls $(SRC) | sed s:^:foobar-$(VERS)/: &gt;MANIFEST</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:495pt;left:77pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">@(cd ..; ln -s foobar foobar-$(VERS))</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:506pt;left:77pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">(cd ..; tar -czvf foobar/foobar-$(VERS).tar.gz &#x2018;cat foobar/MANIFEST&#x2018;)</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:517pt;left:77pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">@(cd ..; rm foobar-$(VERS))</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">493</span></p>
</div>
