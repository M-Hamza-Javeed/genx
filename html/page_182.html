<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:221pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 6. Transparency</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In Chapter 4 we criticized object-oriented programming in terms likely to prove a bit shocking to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">programmers who were raised on the 1990s gospel of OO. Object-oriented design doesn&#x2019;t have to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">be over-complicated design, but we&#x2019;ve observed that too often it is.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:360pt"><span style="font-family:Times,serif;font-size:9.963pt">Too many OO designs are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">spaghetti-like tangles of is-a and has-a relationships, or feature thick layers of glue in which many</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of the objects seem to exist simply to hold places in a steep-sided pyramid of abstractions.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:448pt"><span style="font-family:Times,serif;font-size:9.963pt">Such</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:160pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">designs are the opposite of transparent; they are (notoriously) opaque and dif&#xfb01;cult to debug.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">As we&#x2019;ve previously noted, Unix programmers are the original zealots about modularity, but tend</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to go about it in a quieter way. Keeping glue layers thin is part of it; more generally, our tradition</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">teaches us to build lower, hugging the ground with algorithms and structures that are designed to be</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:217pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">simple and transparent.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">As with Zen art, the simplicity of good Unix code depends on exacting self-discipline and a high</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:251pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">level of craft, neither of which are necessarily apparent on casual inspection.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:251pt;left:403pt"><span style="font-family:Times,serif;font-size:9.963pt">Transparency is</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:263pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">hard work, but worth the effort for more than merely artistic reasons. Unlike Zen art, software</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:275pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">requires debugging &#x2014; and usually needs continuing maintenance, forward-porting, and adaptation</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:287pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">throughout its lifetime. Transparency is therefore more than an esthetic triumph; it is a victory that</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:299pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">will be re&#xfb02;ected in lower costs throughout the software&#x2019;s life cycle.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:321pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Coding for Transparency and Discoverability</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:348pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Transparency and discoverability, like modularity, are primarily properties of designs, not code. It</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:360pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">is not suf&#xfb01;cient to get right the low-level elements of style, such as indenting code in a clear and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:372pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">consistent way or having good variable-naming conventions.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:372pt;left:326pt"><span style="font-family:Times,serif;font-size:9.963pt">These qualities have much more to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:384pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">do with code properties that are less obvious to inspection. Here are a few to think about:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:417pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; What is the maximum static depth of your procedure-call hierarchy?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:417pt;left:386pt"><span style="font-family:Times,serif;font-size:9.963pt">That is, leaving out</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:429pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">recursions, how many levels of call might a human have to model mentally to understand the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:441pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">operation of the code? Hint: If it&#x2019;s more than four, beware.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:459pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; Does the code have invariant properties</span><sup><span style="font-family:Times,serif;font-size:6.273pt">64</span></sup><sup><span style="font-family:Times,serif;font-size:9.963pt"> </span></sup><span style="font-family:Times,serif;font-size:9.963pt">that are both strong and visible? Invariant properties</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:475pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">help human beings reason about code and detect problem cases.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:505pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">64</span><span style="font-family:Times,serif;font-size:7.97pt">An invariant is a property of a software design that is preserved by every operation in it. For example, in most databases</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:514pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">it is an invariant that no two records may have the same key. In a C program that correctly manipulates strings, every string</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:524pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">buffer must contain a terminating NUL byte on exit from each string function. In an inventory system, no parts count can</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:533pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">hold a number less than zero.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">181</span></p>
</div>
