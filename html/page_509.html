<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:230pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 20. Futures</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The single most important feature of Plan 9 is that all mounted &#xfb01;le servers export the same &#xfb01;le-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">system-like interface, regardless of the implementation behind them.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:360pt"><span style="font-family:Times,serif;font-size:9.963pt">Some might correspond to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">local &#xfb01;le systems, some to remote &#xfb01;le systems accessed over a network, some to instances of system</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">servers running in user space (like the window system or an alternate network stack), and some to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">kernel interfaces. To users and client programs, all these cases look alike.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">One of the examples from the Plan 9 survey paper is the way FTP access to remote sites is</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">implemented.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:139pt"><span style="font-family:Times,serif;font-size:9.963pt">There is no ftp(1) command under Plan 9.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:328pt"><span style="font-family:Times,serif;font-size:9.963pt">Instead there is an</span><i><span style="font-family:Times,serif;font-size:9.963pt"> ftpfs</span></i><span style="font-family:Times,serif;font-size:9.963pt"> &#xfb01;leserver,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and each FTP connection looks like a &#xfb01;le system mount.</span><i><span style="font-family:Times,serif;font-size:9.963pt"> ftpfs</span></i><span style="font-family:Times,serif;font-size:9.963pt"> automatically translates open, read,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and write commands on &#xfb01;les and directories under the mount point into FTP protocol transactions.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:217pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Thus, all ordinary &#xfb01;le-handling tools such as ls(1), mv(1) and cp(1) simply work, both underneath</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:229pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the FTP mount point and across the boundaries with the rest of the user&#x2019;s view of the namespace.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:241pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The only difference the user (or his scripts and programs) will notice is retrieval speed.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:263pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Plan 9 has much else to recommend it, including the reinvention of some of the more problematic</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:275pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">areas of the Unix system-call interface, the elimination of superuser, and many other interesting</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:287pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">rethinkings. Its pedigree is impeccable, its design elegant, and it exposes some signi&#xfb01;cant errors in</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:299pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the design of Unix. Unlike most efforts at a second system, it produced an architecture that was in</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:311pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">many ways simpler and more elegant than its predecessor. Why didn&#x2019;t it take over the world?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:333pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">One could argue for a lot of speci&#xfb01;c reasons &#x2014; lack of any serious effort to market it, scanty</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">documentation, much confusion and stumbling over fees and licensing. For those unfamiliar with</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:357pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Plan 9, it seemed to function mainly as a device for generating interesting papers on operating-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:369pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">systems research. But Unix itself had previously surmounted all these sorts of obstacles to attract a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:381pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">dedicated following that spread it worldwide. Why didn&#x2019;t Plan 9?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The long view of history may tell a different story, but in 2003 it looks like Plan 9 failed simply</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:415pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">because it fell short of being a compelling enough improvement on Unix to displace its ancestor.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:427pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Compared to Plan 9, Unix creaks and clanks and has obvious rust spots, but it gets the job done</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:439pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">well enough to hold its position. There is a lesson here for ambitious system architects: the most</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:450pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">dangerous enemy of a better solution is an existing codebase that is just good enough.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:472pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Some Plan 9 ideas have been absorbed into modern Unixes, particularly the more innovative open-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:484pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">source versions.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:484pt;left:149pt"><span style="font-family:Times,serif;font-size:9.963pt">FreeBSD has a</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> /proc</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> &#xfb01;le system modeled exactly on that of Plan 9 that can</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:496pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">be used to query or control running processes. FreeBSD&#x2019;s rfork(2) and Linux&#x2019;s clone(2) system</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:508pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">calls are modeled on Plan 9&#x2019;s rfork(2).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:508pt;left:246pt"><span style="font-family:Times,serif;font-size:9.963pt">Linux&#x2019;s</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> /proc</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> &#xfb01;le system, in addition to presenting</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:520pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">process information, holds a variety of synthesized Plan 9-like device &#xfb01;les used to query and control</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:532pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">kernel internals using predominantly textual interfaces.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:532pt;left:302pt"><span style="font-family:Times,serif;font-size:9.963pt">Experimental 2003 versions of Linux are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">508</span></p>
</div>
