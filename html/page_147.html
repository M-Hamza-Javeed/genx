<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:227pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 5. Textuality</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022;</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Less than 80 characters per line, if possible.</span></i><span style="font-family:Times,serif;font-size:9.963pt"> This makes the format browseable in an ordinary-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">sized terminal window. If many records must be longer than 80 characters, consider a stanza</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">format (see below).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:145pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022;</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Use</span></i><tt><i><span style="font-family:Courier,monospace;font-size:8.966pt"> #</span></i></tt><i><span style="font-family:Times,serif;font-size:9.963pt"> as an introducer for comments.</span></i><span style="font-family:Times,serif;font-size:9.963pt"> It is good to have a way to embed annotations and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:157pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">comments in data &#xfb01;les.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:157pt;left:194pt"><span style="font-family:Times,serif;font-size:9.963pt">It&#x2019;s best if they&#x2019;re actually part of the &#xfb01;le structure, and so will be</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:169pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">preserved by tools that know its format. For comments that are not preserved during parsing,</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> #</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">is the conventional start character.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:202pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022;</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Support the backslash convention.</span></i><span style="font-family:Times,serif;font-size:9.963pt"> The least surprising way to support embedding nonprintable</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:214pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">control characters is by parsing C-like backslash escapes &#x2014;</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \n</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> for a newline,</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \r</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> for a carriage</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:226pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">return,</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \t</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> for a tab,</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \b</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> for backspace,</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \f</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> for formfeed,</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \e</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> for ASCII escape (27),</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \nnn</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> or</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:238pt;left:86pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">\onnn</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> or</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \0nnn</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> for the character with octal value</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> nnn</span></tt><span style="font-family:Times,serif;font-size:9.963pt">,</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \xnn</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> for the character with hexadecimal</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:250pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">value</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> nn</span></tt><span style="font-family:Times,serif;font-size:9.963pt">,</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \dnnn</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> for the character with decimal value</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> nnn</span></tt><span style="font-family:Times,serif;font-size:9.963pt">,</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \\</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> for a literal backslash. A newer</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:262pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">convention, but one worth following, is the use of</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> \unnnn</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> for a hexadecimal Unicode literal.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:284pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022;</span><i><span style="font-family:Times,serif;font-size:9.963pt"> In one-record-per-line formats, use colon or any run of whitespace as a &#xfb01;eld separator.</span></i><span style="font-family:Times,serif;font-size:9.963pt"> The</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:296pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">colon convention seems to have originated with the Unix password &#xfb01;le. If your &#xfb01;elds must</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:307pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">contain instances of the separator(s), use a backslash as the pre&#xfb01;x to escape them.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:329pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022;</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Do not allow the distinction between tab and whitespace to be signi&#xfb01;cant.</span></i><span style="font-family:Times,serif;font-size:9.963pt"> This is a recipe for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:341pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">serious headaches when the tab settings on your users&#x2019; editors are different; more generally, it&#x2019;s</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:353pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">confusing to the eye. Using tab alone as a &#xfb01;eld separator is especially likely to cause problems;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:365pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">allowing any run of tabs and spaces to be a &#xfb01;eld separator, on the other hand, works well.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:386pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022;</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Favor hex over octal.</span></i><span style="font-family:Times,serif;font-size:9.963pt"> Hex-digit pairs and quads are easier to eyeball-map into bytes and today&#x2019;s</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:398pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">32- and 64-bit words than octal digits of three bits each; also marginally more ef&#xfb01;cient.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:398pt;left:450pt"><span style="font-family:Times,serif;font-size:9.963pt">This</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:410pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">rule needs emphasizing because some older Unix tools such as od(1) violate it; that&#x2019;s a legacy</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:422pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">from the instruction &#xfb01;eld sizes in the machine languages of older PDP minicomputers.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:443pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022;</span><i><span style="font-family:Times,serif;font-size:9.963pt"> For complex records, use a &#x2018;stanza&#x2019; format: multiple lines per record, with a record separator</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:455pt;left:86pt"><i><span style="font-family:Times,serif;font-size:9.963pt">line of</span></i><tt><i><span style="font-family:Courier,monospace;font-size:8.966pt"> %%\n</span></i></tt><i><span style="font-family:Times,serif;font-size:9.963pt"> or</span></i><tt><i><span style="font-family:Courier,monospace;font-size:8.966pt"> %\n</span></i></tt><i><span style="font-family:Times,serif;font-size:9.963pt">.</span></i><span style="font-family:Times,serif;font-size:9.963pt"> The separators make useful visual boundaries for human beings eyeballing</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:467pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">the &#xfb01;le.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:489pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022;</span><i><span style="font-family:Times,serif;font-size:9.963pt"> In stanza formats, either have one record &#xfb01;eld per line or use a record format resembling RFC</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:501pt;left:86pt"><i><span style="font-family:Times,serif;font-size:9.963pt">822 electronic-mail headers, with colon-terminated &#xfb01;eld-name keywords leading &#xfb01;elds.</span></i><span style="font-family:Times,serif;font-size:9.963pt"> The</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:513pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">second choice is appropriate when &#xfb01;elds are often either absent or longer than 80 characters, or</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:525pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">when records are sparse (e.g., often with empty &#xfb01;elds).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">146</span></p>
</div>
