<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:108pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Working with Models</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 64 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    errors[&apos;email&apos;] = errors[&apos;email&apos;] || &apos;Please provide a valid </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:126pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">email&apos;;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:138pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:162pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  return errors;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:175pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:199pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Set both empty values</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:211pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">user.set({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:224pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  name: &apos;&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:236pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  email: &apos;johndoe#www.com&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:248pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}, { validate: true });</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:267pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Now, we will receive an object with all the errors. This is useful while you need to </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:280pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">show data individually even when they are set one by one. For example, this will be </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:292pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">handy while we want to validate a field on blur event.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:323pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">Using the Backbone.Validation plugin</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">So, we just saw a simple implementation of data validation. However, when there are </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:358pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">lots of form fields with multiple validation criteria, the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">validate()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method becomes </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:371pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">too large with several nested if-else conditions. Creating the complete validation </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:383pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">logic from scratch may make it more complicated and time-consuming. Fortunately, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:396pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">there is a wonderful plugin called </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Backbone.Validation</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> (</span><span style="font-family:CourierStd,serif;font-size:9.5pt">http://thedersen.com/</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:408pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">projects/backbone-validation/</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">), which makes things a lot easier by providing </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:421pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">multiple built-in validation methods and simplifying the validation binding with </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:434pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">views. Let&apos;s reimplement the previous validation with this plugin.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:462pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:16pt">Configuring validation rules</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:483pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">There are a number of built-in validators, such as </span><span style="font-family:CourierStd,serif;font-size:9.5pt">required</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">maxLength</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">minLength</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:495pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">max</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">min</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">length</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, and </span><span style="font-family:CourierStd,serif;font-size:9.5pt">pattern</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">. They are used as shown in the following code:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:517pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var User = Backbone.Model.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:529pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  validation: {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:541pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    name: {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:553pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      required: true</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:566pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    },</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:590pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    email: {</span></p>
</div>
