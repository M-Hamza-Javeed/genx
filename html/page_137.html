<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:227pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 5. Textuality</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">remainder of the line is a sequence of comma-separated article numbers or ranges of article numbers,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">indicating which articles the user has seen.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Non-Unix programmers might have automatically tried to design a fast binary format in which</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">each newsgroup status was described by either a long but &#xfb01;xed-length binary record, or a sequence</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of self-describing binary packets with internal length &#xfb01;elds.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:332pt"><span style="font-family:Times,serif;font-size:9.963pt">The main point of such a binary</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">representation would be to express ranges with binary data in paired word-length &#xfb01;elds, in order to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">avoid the overhead of parsing all the range expressions at startup.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Such a layout could be read and written faster than a textual format, but it would have other</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">problems.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:125pt"><span style="font-family:Times,serif;font-size:9.963pt">A na&#xef;ve implementation in &#xfb01;xed-length records would have placed arti&#xfb01;cial length</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">limits on newsgroup names and (more seriously) on the maximum number of ranges of seen-article</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">numbers.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:116pt"><span style="font-family:Times,serif;font-size:9.963pt">A more sophisticated binary-packet format would avoid the length limits, but could not</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:251pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">be edited with the user&#x2019;s eyeballs and &#xfb01;ngers &#x2014; a capability that can be quite useful when you want</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:263pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to reset just some of the read bits in an individual newsgroup.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:263pt;left:334pt"><span style="font-family:Times,serif;font-size:9.963pt">Also, it would not necessarily be</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:275pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">portable to different machine types.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The designers of the original newsreader chose transparency and interoperability over economy.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The case for going in the other direction was not completely ridiculous;</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> .newsrc</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> &#xfb01;les can get</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:321pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">very large, and one modern reader (GNOME&#x2019;s Pan) uses a speed-optimized private format to avoid</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:333pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">startup lag. But to other implementers, textual representation looked like a good tradeoff in 1980,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">and has looked better as machines increased in speed and storage dropped in price.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:71pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Case Study: The PNG Graphics File Format</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:393pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">PNG (Portable Network Graphics) is a &#xfb01;le format for bitmap graphics. It is like GIF, and unlike</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:405pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">JPEG, in that it uses lossless compression and is optimized for applications such as line art and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:417pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">icons rather than photographic images. Documentation and open-source reference libraries of high</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:429pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">quality are available at the Portable Network Graphics website [http://www.libpng.org/pub/png/].</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:451pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">PNG is an excellent example of a thoughtfully designed binary format.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:451pt;left:389pt"><span style="font-family:Times,serif;font-size:9.963pt">A binary format is</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:463pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">appropriate since graphics &#xfb01;les may contain very large amounts of data, such that storage size and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:475pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Internet download time would go up signi&#xfb01;cantly if the pixel data were stored textually. Transaction</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:483pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">economy was the prime consideration, with transparency sacri&#xfb01;ced.</span><sup><span style="font-family:Times,serif;font-size:6.273pt">53</span></sup><sup><span style="font-family:Times,serif;font-size:9.963pt"> </span></sup><span style="font-family:Times,serif;font-size:9.963pt">The designers were, however,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:499pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">careful about interoperability; PNG speci&#xfb01;es byte orders, integer word lengths, endianness, and (lack</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:511pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">of) padding between &#xfb01;elds.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:531pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">53</span><span style="font-family:Times,serif;font-size:7.97pt">Confusingly, PNG supports a different kind of transparency &#x2014; transparent pixels in the PNG image.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">136</span></p>
</div>
