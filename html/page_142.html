<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:108pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Unit Test, Stub, Spy, and Mock Your App</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:293pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 126 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:113pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:20pt">Understanding why unit testing is </span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:137pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:20pt">important</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:161pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">If you already</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> know the benefits of testing and follow the best practices while </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:174pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">developing your JavaScript apps, you can skip this section. If you still wonder why </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:186pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">you should actually test your application while you are already writing clean and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:199pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">maintainable code, the following are a few reasons to consider:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:220pt;left:125pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:220pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Testing is never a waste of time. You do not need to run your code </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:233pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">repeatedly to see whether it works or not. You can run all the test cases at </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:245pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">once to see whether everything is functioning as expected. Testing gives you </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:258pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the confidence that your code is working fine.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:275pt;left:125pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:275pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Unit tests are really fast to create and fast to run too.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:292pt;left:125pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:292pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Update your code without worry. Your test will tell you whether the function </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:304pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">is working as it is expected to or not. You will find this very helpful, especially </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:317pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">when you work in a team.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:334pt;left:125pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:334pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Once you start writing unit tests for your code, you will soon find that you </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:347pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">are writing more modular, flexible, and testable code than you used to.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:364pt;left:125pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:364pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">In </span><b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Test Driven Development</span></b><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> (</span><b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">TDD</span></b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">)</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, you write failing test cases first and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:376pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">then develop the code. In that case, a passing test case ensures that your </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:389pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">developed code works fine without any issues.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:410pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Testing is fun. It&apos;s not very easy, sure, and not something that you can master in a day. </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:423pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">It is not very difficult either&#x2014;lots of developers are doing it and you can do it too.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:456pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:20pt">Testing with QUnit</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:480pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">QUnit</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> (</span><span style="font-family:CourierStd,serif;font-size:9.5pt">http://qunitjs.com</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">), a lightweight unit testing framework maintained by </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:493pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the jQuery team, which is quite easy to work with compared to other frameworks. </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:505pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Discussing </span><span style="font-family:CourierStd,serif;font-size:9.5pt">QUnit</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> in complete detail is beyond the scope of this book, but we </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:518pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">will learn about the simple features of it and explore how we can use it with our </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:530pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Backbone components.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:552pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Assertions are the most essential elements of any unit test framework. You need  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:564pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">to compare your actual implementation values to the results that the test produces. </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:577pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Assertions are the methods that serve this comparison functionality. </span><span style="font-family:CourierStd,serif;font-size:9.5pt">QUnit</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> has only </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:589pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">eight assertions; we are going to use some of them in the next section. Let&apos;s discuss a </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:602pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">few of them here:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:623pt;left:125pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:623pt;left:144pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">ok (state, message)</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">: This passes if the first argument is true</span></p>
</div>
