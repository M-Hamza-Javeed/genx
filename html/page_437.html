<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:224pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 17. Portability</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:301pt"><span style="font-family:Times,serif;font-size:9.963pt;color:#ff0000">&lt;author&gt;SteveJohnson&lt;/author&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:133pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">The System III C version of the PCC compiler (which also shipped with BSD 4.1c) changed the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:145pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">handling of struct declarations so that members with the same names in different structs would</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:157pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">not clash.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:157pt;left:123pt"><span style="font-family:Times,serif;font-size:9.963pt">It also introduced</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> void</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> and</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> unsigned char</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> declarations.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:157pt;left:378pt"><span style="font-family:Times,serif;font-size:9.963pt">The scope of</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> extern</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:169pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">declarations local to a function was restricted to the function, and no longer included all code</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">following it.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:202pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">The ANSI C Draft Proposed Standard added</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> const</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> (for read-only storage) and</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> volatile</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> (for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:214pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">locations such as memory-mapped I/O registers that might be modi&#xfb01;ed asynchronously from the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:226pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">thread of program control). The</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> unsigned</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> type modi&#xfb01;er was generalized to apply to any type, and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:238pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a symmetrical</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> signed</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> was added.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:238pt;left:223pt"><span style="font-family:Times,serif;font-size:9.963pt">Initialization syntax for</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> auto</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> array and structure initializers</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:250pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> union</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> types was added. Most importantly, function prototypes were added.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:272pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The most important changes in early C were the switch to de&#xfb01;nition-reference and the introduction</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:284pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of function prototypes in the Draft Proposed ANSI C Standard. The language has been essentially</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:296pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">stable since copies of the X3J11 committee&#x2019;s working papers on the Draft Proposed Standard</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:308pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">signaled the committee&#x2019;s intentions to compiler implementers in 1985-1986.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:329pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">A more detailed history of early C, written by its designer, can be found at [Ritchie93].</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:351pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">C Standards</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:377pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">C standards development has been a conservative process with great care taken to preserve the spirit</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:389pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of the original C language, and an emphasis on ratifying experiments in existing compilers rather</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:397pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">than inventing new features. The C9X charter</span><sup><span style="font-family:Times,serif;font-size:6.273pt">143</span></sup><sup><span style="font-family:Times,serif;font-size:9.963pt"> </span></sup><span style="font-family:Times,serif;font-size:9.963pt">document is an excellent expression of this mission.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:423pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Work on the &#xfb01;rst of&#xfb01;cial C standard began in 1983 under the auspices of the X3J11 ANSI committee.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:435pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The major functional additions to the language were settled by the end of 1986, at which point it</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:447pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">became common for programmers to distinguish between &#x201c;K&amp;R C&#x201d; and &#x201c;ANSI C&#x201d;.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:468pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">Many people don&#x2019;t realize how</span><i><span style="font-family:Times,serif;font-size:9.963pt"> unusual</span></i><span style="font-family:Times,serif;font-size:9.963pt"> the C standardization effort, especially</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:480pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">the original ANSI C work, was in its insistence on standardizing only tested</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:492pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">features. Most language standard committees spend much of their time inventing</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:504pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">new features, often with little consideration of how they might be implemented.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:516pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">Indeed, the few ANSI C features that</span><i><span style="font-family:Times,serif;font-size:9.963pt"> were</span></i><span style="font-family:Times,serif;font-size:9.963pt"> invented from scratch &#x2014; e.g., the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:71pt"><span style="font-family:Times,serif;font-size:5.018pt">143</span><span style="font-family:Times,serif;font-size:7.97pt">Available on the Web [http://anubis.dkuug.dk/JTC1/SC22/WG14/www/charter].</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">436</span></p>
</div>
