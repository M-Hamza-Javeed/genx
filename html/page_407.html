<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:234pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 15. Tools</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:96pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Automated Version Control</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:122pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">To avoid these problems, you can use a</span><i><span style="font-family:Times,serif;font-size:9.963pt"> version-control system</span></i><span style="font-family:Times,serif;font-size:9.963pt"> (VCS), a suite of programs that</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">automates away most of the drudgery involved in keeping an annotated history of your project and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">avoiding modi&#xfb01;cation con&#xfb02;icts.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:168pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Most VCSs share the same basic logic. To use one, you start by</span><i><span style="font-family:Times,serif;font-size:9.963pt"> registering</span></i><span style="font-family:Times,serif;font-size:9.963pt"> a collection of source</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:180pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">&#xfb01;les &#x2014; that is, telling your VCS to start archive &#xfb01;les describing their change histories. Thereafter,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:192pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">when you want to edit one of these &#xfb01;les, you have to</span><i><span style="font-family:Times,serif;font-size:9.963pt"> check out</span></i><span style="font-family:Times,serif;font-size:9.963pt"> the &#xfb01;le &#x2014; assert an exclusive lock on</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:204pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">it. When you&#x2019;re done, you</span><i><span style="font-family:Times,serif;font-size:9.963pt"> check in</span></i><span style="font-family:Times,serif;font-size:9.963pt"> the &#xfb01;le, adding your changes to the archive, releasing the lock,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:216pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">and entering a change comment explaining what you did.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:237pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">The history of the project is not necessarily linear. All VCSs in common use actually allow you</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:249pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">to maintain a tree of variant versions (for ports to different machines, say) with tools for merging</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">branches back into the main &#x201c;trunk&#x201d; version.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:272pt"><span style="font-family:Times,serif;font-size:9.963pt">This feature becomes important as the size and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">dispersion of the development group increases.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:272pt"><span style="font-family:Times,serif;font-size:9.963pt">It needs to be used with care, however; multiple</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">active variants of the code base can be very confusing (just associated bug reports to the right version</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">are not necessarily easy), and automated merging of branches does not guaranteed that the combined</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">code works.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:331pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Most of the rest of what a VCS does is convenience: labeling, and reporting features surrounding</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:343pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">these basic operations, and tools which allow you to view differences between versions, or to group</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">a given set of versions of &#xfb01;les as a named</span><i><span style="font-family:Times,serif;font-size:9.963pt"> release</span></i><span style="font-family:Times,serif;font-size:9.963pt"> that can be examined or reverted to at any time</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">without losing later changes.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:389pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">VCSs have their problems. The biggest one is that using a VCS involves extra steps every time you</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">want to edit a &#xfb01;le, steps that developers in a hurry tend to want to skip if they have to be done by</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">hand. Near the end of this chapter we&#x2019;ll discuss a way to solve this problem.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:435pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Another problem is that some kinds of natural operations tend to confuse VCSs. Renaming &#xfb01;les</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:447pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">is a notorious trouble spot; it&#x2019;s not easy to automatically ensure that a &#xfb01;le&#x2019;s version history will be</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:459pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">carried along with it when it is renamed.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:459pt;left:246pt"><span style="font-family:Times,serif;font-size:9.963pt">Renaming problems are particularly dif&#xfb01;cult to resolve</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:471pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">when the VCS supports branching.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:493pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Despite these dif&#xfb01;culties, VCSs are a huge boon to productivity and code quality in many ways,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:504pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">even for small single-developer projects. They automate away many procedures that are just tedious</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:516pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">work. They help a lot in recovering from mistakes. Perhaps most importantly, they free programmers</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:528pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">to experiment by guaranteeing that reversion to a known-good state will always be easy.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">406</span></p>
</div>
