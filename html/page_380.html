<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:223pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 14. Languages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:97pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">A Large Python Case Study: PIL</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:122pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">PIL, the Python Imaging Library, supports the manipulation of bitmap graphics. It supports many</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">popular formats, including PNG, JPEG, BMP, TIFF, PPM, XBM, and GIF. Python programs can use</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">it to convert and transform images; supported transformations include cropping, rotation, scaling,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and shearing. Pixel editing, image convolution, and color-space conversions are also supported.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The PIL distribution includes Python programs that make these library facilities available from the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">command line. Thus PIL can be used either for batch-mode image transformation or as a strong</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">toolkit over which to implement program-driven image processing of bitmaps.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The implementation of PIL illustrates the way Python can be readily augmented with loadable</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">object-code extensions to the Python interpreter.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:282pt"><span style="font-family:Times,serif;font-size:9.963pt">The library core, implementing fundamental</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">operations on bitmap objects, is written in C for speed. The upper levels and sequencing logic</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:251pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">are in Python, slower but much easier to read and modify and extend.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The analogous toolkit would be dif&#xfb01;cult or impossible to write in Emacs Lisp or shell, which don&#x2019;t</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">have or don&#x2019;t document a C extension interface at all.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:305pt"><span style="font-family:Times,serif;font-size:9.963pt">Tcl has a good C extension facility, but</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">PIL would be an uncomfortably large project in Tcl. Perl has such facilities (Perl XS), but they are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">ad-hoc, poorly documented, complex, and unstable by comparison to Python&#x2019;s and use of them is</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:321pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">rare. Java&#x2019;s Native Method Interface appears to provide a facility roughly comparable to Python&#x2019;s;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:333pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">PIL would probably have made a reasonable Java project.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The PIL code and documentation is available at the project website [http://www.pythonware.com/products/pil/].</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:377pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Java</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The Java programming language was designed to be &#x201c;write once, run anywhere&#x201d; and to support</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:415pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">embedding interactive programs (or</span><i><span style="font-family:Times,serif;font-size:9.963pt"> applets</span></i><span style="font-family:Times,serif;font-size:9.963pt">) in Web pages that would be runnable from any browser.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:427pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Thanks to a series of technical and strategic blunders by its owner, Sun Microsystems, it has failed</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:439pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">in both its original objectives.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:439pt;left:204pt"><span style="font-family:Times,serif;font-size:9.963pt">But it is still suf&#xfb01;ciently strong at both systems and applications</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:451pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">programming to be seriously challenging C and C++. Java was announced in 1995.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:473pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Java is cleverly designed to capture the huge bene&#xfb01;t of automatic memory management and the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:485pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">lesser but not insigni&#xfb01;cant bene&#xfb01;t of supporting OO design, while being far smaller and simpler than</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:497pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">C++. It retains a broadly C-like syntax that most programmers will &#xfb01;nd comfortable. It includes</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:509pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">support for callouts to dynamically-loaded C and calling Java as an embedded language from C.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:521pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Nor is it trivial that Sun has done an excellent job of making good Java documentation available on</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:533pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the Web.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">379</span></p>
</div>
