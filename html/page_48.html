<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:108pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Working with Views</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 32 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The </span><span style="font-family:CourierStd,serif;font-size:9.5pt">data-id</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> attribute of the list element can be extracted from the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">target</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:127pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">property of the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">event</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> object and the model with the same </span><span style="font-family:CourierStd,serif;font-size:9.5pt">data-id</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> attribute can be </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:140pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">obtained from </span><span style="font-family:CourierStd,serif;font-size:9.5pt">collection</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">. This methodology works fine unless there are lots of </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:153pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">views in your application. Managing events in this way becomes tedious for large </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:165pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">applications. So, how do we solve this problem? We use subviews!</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:196pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">Knowing when to use subviews</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:218pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The previous pattern is similar to what we normally use in the case of simple  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:231pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">jQuery-based applications where all of the data and events are tightly coupled to </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:243pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the DOM. Continuing event binding in this manner will ultimately result in much </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:256pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">complexity at a later stage. A subview can simplify this process to a great extent. We </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:269pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">will separate each list item and introduce a </span><span style="font-family:CourierStd,serif;font-size:9.5pt">UserItemView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> variable for each of them:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:290pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var UserItemView = Backbone.View.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:302pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  tagName: &apos;li&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:314pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  template: _.template( &apos;&lt;%= name %&gt;&apos;),</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:327pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  events: {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:339pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    &apos;click&apos;: &apos;showUserName&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:351pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  },</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:363pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  render: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:376pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    var html = this.template(this.model.toJSON());</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    this.$el.html(html);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:400pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    return this;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:412pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  },</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:437pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  showUserName: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:449pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    console.log(&apos;Clicked user\&apos;s name =&apos;, this.model.get(&apos;name&apos;));</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:461pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:474pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:493pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">It&apos;s simple. We just define one view for one model. In the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">render()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method of </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:505pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">UsersView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, we eliminate the ugly HTML strings because we just need to create an </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:518pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">instance of each subview (</span><span style="font-family:CourierStd,serif;font-size:9.5pt">UserItemView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">) and append its elements to the main view:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:539pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">render: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:552pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  var userItemView;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:576pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  // clean up the view first </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:588pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  this.$el.empty();</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:613pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  // iterate over the collection and add each name as a list item</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:625pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  this.collection.each(function (model) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:637pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    userItemView = new UserItemView({</span></p>
</div>
