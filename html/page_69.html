<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:468pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Chapter 2</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 53 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">LayoutManager</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> provides two custom events, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">beforeRender</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> and </span><span style="font-family:CourierStd,serif;font-size:9.5pt">afterRender</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, to a </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:127pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">view as it takes care of the render function itself. While using the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">beforeRender()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:140pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">method, the element of the view isn&apos;t yet available, but if you insert a view into </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:153pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the layout, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">LayoutManager</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> keeps track of it and renders it once the parent view is </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:165pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">available in DOM. We can use this method where we will iterate through the users&apos; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:178pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">collection and insert the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">UserItem</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> view to the list view:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:199pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// User List view</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:211pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var UserList = Backbone.View.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:224pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  tagName: &apos;ul&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:236pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  className: &apos;nav nav-tabs nav-stacked&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:248pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  manage: true,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  // Before rendering the list, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  //insert all the child list items into it</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  beforeRender: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    this.collection.each(function (model) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:322pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      // insertview method inserts the views </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:334pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      // directly inside the parent view</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:346pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      this.insertView(new UserItem({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:358pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">        model: model</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:371pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      }));</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:383pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    }, this);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:395pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:407pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:427pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">There are two similar methods </span><span style="font-family:CourierStd,serif;font-size:9.5pt">insertView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">/</span><span style="font-family:CourierStd,serif;font-size:9.5pt">insertViews</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> and </span><span style="font-family:CourierStd,serif;font-size:9.5pt">setView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">/</span><span style="font-family:CourierStd,serif;font-size:9.5pt">setViews</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">. </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:439pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Both these functions insert views into the layout according to the given selector </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:452pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">name. The </span><span style="font-family:CourierStd,serif;font-size:9.5pt">setView()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method takes an extra </span><span style="font-family:CourierStd,serif;font-size:9.5pt">insert</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> parameter, which is a Boolean </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:464pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">value, and determines whether the view will replace the complete content of the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:477pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">selector or will simply append to it. We create </span><span style="font-family:CourierStd,serif;font-size:9.5pt">UserItem</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> views, attach models to </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:490pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">them, and insert them into the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">UserList</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> view. The child views get automatically </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:502pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">rendered inside.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:523pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">We are done with the basic list definition. Now, let&apos;s define the layout manager </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">functionality as follows:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:557pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Create a collection with some data</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:569pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var users = new Users([{</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:580pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  name: &apos;John Doe&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:592pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  avatar: &apos;avatar.png&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:604pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  phone: &apos;+88-888-8888&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:615pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  twitter: &apos;johndoe&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:627pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  email: &apos;johndoe@example.com&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:638pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}, {</span></p>
</div>
