<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:225pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 1. Philosophy</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Text streams are to Unix tools as messages are to objects in an object-oriented setting. The simplicity</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of the text-stream interface enforces the encapsulation of the tools. More elaborate forms of inter-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">process communication, such as remote procedure calls, show a tendency to involve programs with</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">each others&#x2019; internals too much.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">To make programs composable, make them independent.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:310pt"><span style="font-family:Times,serif;font-size:9.963pt">A program on one end of a text stream</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">should care as little as possible about the program on the other end.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:362pt"><span style="font-family:Times,serif;font-size:9.963pt">It should be made easy to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">replace one end with a completely different implementation without disturbing the other.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">GUIs can be a very good thing. Complex binary data formats are sometimes unavoidable by any</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">reasonable means. But before writing a GUI, it&#x2019;s wise to ask if the tricky interactive parts of your</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">program can be segregated into one piece and the workhorse algorithms into another, with a simple</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">command stream or application protocol connecting the two. Before devising a tricky binary format</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:251pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to pass data around, it&#x2019;s worth experimenting to see if you can make a simple textual format work and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:263pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">accept a little parsing overhead in return for being able to hack the data stream with general-purpose</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:275pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">tools.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">When a serialized, protocol-like interface is not natural for the application, proper Unix design is to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">at least organize as many of the application primitives as possible into a library with a well-de&#xfb01;ned</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:321pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">API. This opens up the possibility that the application can be called by linkage, or that multiple</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:333pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">interfaces can be glued on it for different tasks.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">(We discuss these issues in detail in Chapter 7.)</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:377pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Rule of Separation: Separate policy from mechanism; sepa-</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:394pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">rate interfaces from engines.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:420pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In our discussion of what Unix gets wrong, we observed that the designers of X made a basic</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:432pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">decision to implement &#x201c;mechanism, not policy&#x201d;&#x2014;to make X a generic graphics engine and leave</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:444pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">decisions about user-interface style to toolkits and other levels of the system.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:444pt;left:389pt"><span style="font-family:Times,serif;font-size:9.963pt">We justi&#xfb01;ed this by</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:456pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">pointing out that policy and mechanism tend to mutate on different timescales, with policy changing</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:468pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">much faster than mechanism. Fashions in the look and feel of GUI toolkits may come and go, but</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:480pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">raster operations and compositing are forever.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:502pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Thus, hardwiring policy and mechanism together has two bad effects: It makes policy rigid and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:514pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">harder to change in response to user requirements, and it means that trying to change policy has a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:526pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">strong tendency to destabilize the mechanisms.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:265pt"><span style="font-family:Times,serif;font-size:9.963pt">38</span></p>
</div>
