<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:468pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Chapter 1</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 19 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:114pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:16pt">Using curry to combine a function and arguments</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">As described by </span><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Douglas Crockford</span></i><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> in his book </span><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Javascript: The Good Parts</span></i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:156pt;left:129pt"><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&quot;Currying allows us to produce a new function by combining a function and an </span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:168pt;left:129pt"><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">argument.&quot;</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:190pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Assume that you have a function and a set of arguments. You want these arguments </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">to be combined with the function someway, so that when you will call that function </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">without passing anything, the arguments will still be available to the function. See </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:228pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the following example:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:249pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Simple function</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:262pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">function foo(){</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:274pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  console.log(arguments);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:286pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:323pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// We want this bar object to be available in the foo() function</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:335pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var bar = {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:347pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  name: &apos;Saswata Guha&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:359pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">};</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:384pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Calling foo() without passing anything. Using curry, the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:396pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// function will have the bar object in its scope</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:408pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">foo();  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:428pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The </span><span style="font-family:CourierStd,serif;font-size:9.5pt">curry()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> pattern&apos;s definition</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> is quite simple where this method is added to the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:440pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">function prototype, so when it is called on any function, it merges the arguments </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:453pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">passed to itself with the arguments of the main function, as shown in the following </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:465pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">code snippet:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:487pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Definition of curry</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:499pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">Function.prototype.curry = function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:511pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  var slice = Array.prototype.slice,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:524pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    args = slice.apply(arguments),</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    that = this;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:548pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  return function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:560pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    return that.apply(null, args.concat(slice.apply(arguments)));</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:573pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  };</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:585pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">};</span></p>
</div>
