<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:223pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 14. Languages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Perl extension module it uses has to be conditionally included, because it is not guaranteed to be</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">present in any given Perl installation.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">blq</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is exceptionally clean and disciplined as Perl code goes, and I recommend it as an example of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">good style (the other Perl tools referenced from the</span><i><span style="font-family:Times,serif;font-size:9.963pt"> blq</span></i><span style="font-family:Times,serif;font-size:9.963pt"> project page are good examples as well).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">But parts of the code are unreadable unless you are familiar with very speci&#xfb01;c Perl idioms &#x2014; the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">very &#xfb01;rst line of code,</span><b><span style="font-family:Times,serif;font-size:9.963pt"> $0 =~ s!.*/!!;</span></b><span style="font-family:Times,serif;font-size:9.963pt">, is an example. While all languages have some of this kind of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">opacity, Perl has it worse than most.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Tcl and Python are both good for small scripts of this type, but both lack the Perl convenience</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">features for regular-expression matching that</span><i><span style="font-family:Times,serif;font-size:9.963pt"> blq</span></i><span style="font-family:Times,serif;font-size:9.963pt"> uses heavily; an implementation in either would</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">have been reasonable, but probably less compact and expressive.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:340pt"><span style="font-family:Times,serif;font-size:9.963pt">An Emacs Lisp implementation</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">would have been even faster to write and more compact than the Perl one, but probably painfully</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:251pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">slow to use.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">A Large Perl Case Study:</span></b><b><i><span style="font-family:Helvetica,sans-serif;font-size:11.955pt"> keeper</span></i></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">keeper</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is the tool used to &#xfb01;le incoming packages and maintain both FTP and WWW index &#xfb01;les for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the huge Linux free-software archives at ibiblio. You can &#xfb01;nd sources and documentation in the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:321pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">search tools subdirectory of the ibiblio archive [http://www.ibiblio.org].</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:343pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">keeper</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is a good example of a medium-to-large interactive Perl application.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:343pt;left:405pt"><span style="font-family:Times,serif;font-size:9.963pt">The command-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">line interface is line-oriented and patterned after a specialized shell or directory editor; note the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">embedded help facilities. The working parts make heavy use of &#xfb01;le and directory handling, pattern</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:379pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">matching, and pattern-directed editing. Note the ease with which</span><i><span style="font-family:Times,serif;font-size:9.963pt"> keeper</span></i><span style="font-family:Times,serif;font-size:9.963pt"> generates Web pages and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:391pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">electronic-mail noti&#xfb01;cations from programmatic templates. Note also the use of a canned Perl</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">module to automate walking various functions over directory trees.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:425pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">At about 3300 lines, this application is probably pushing the size and complexity limit of what one</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:437pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">should attempt in a single Perl program. Nevertheless, most of it was written in a period of six days.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:449pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">In C, C++, or Java it would have taken a minimum of six weeks and been extremely dif&#xfb01;cult to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:461pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">debug or modify after the fact. It is way too large for pure Tcl. A Python version would probably</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:473pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">be structurally cleaner, more readable, and more maintainable &#x2014; but also more verbose (especially</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:485pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">near the pattern-matching parts). An Emacs Lisp mode could readily do the job, but Emacs is not</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:497pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">well suited for use over a telnet link that is often slowed to a crawl by server congestion.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:519pt;left:71pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Tcl</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">373</span></p>
</div>
