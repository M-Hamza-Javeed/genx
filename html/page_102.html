<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:108pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Routing Best Practices and Subrouting</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 86 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:113pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:20pt">Working with routers</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:137pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The Backbone router provides methods to route client-side pages by using hash </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:150pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">fragments or standard URLs as per the History API. Routes that use the hash </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:162pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">fragments or History API may look like this:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:184pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Hash fragment</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:196pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">http://www.foo.com/#user/23</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:221pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Standard URL</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:233pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">http://www.foo.com/user/23</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:252pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The routes and actions that will be triggered when the URL fragment matches the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:265pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">specific routes are defined in the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">routes</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> object of the router:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:286pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">routes: {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:298pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  &apos;users&apos; : &apos;showUsers&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:311pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  &apos;user/:id&apos; : &apos;showUserDetails&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:323pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  &apos;user/:id/update&apos; : &apos;updateUser&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:335pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:354pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Now, let&apos;s see how we can create a basic router. Assume that we are developing an </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">application with a few modules, among which the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">User</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> module is an important one.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var AppRouter = Backbone.Router.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  routes: {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    &apos;users&apos;: &apos;showUsers&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:425pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    &apos;user/:id&apos;: &apos;showUserDetails&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:437pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    &apos;user/:id/update&apos;: &apos;updateUser&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:450pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    &apos;user/:id/remove&apos;: &apos;removeUser&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:462pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  },</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:486pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  showUsers: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:498pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    // Get all the user details from server and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:511pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    // show the users view </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:523pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  },</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:547pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  showUserDetails: function (userId) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:560pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    // Get the user details for the user id as received</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:572pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  },</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:596pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  updateUser: function (userId) {},</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:609pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  removeUser: function (userId) {}</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:621pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
</div>
