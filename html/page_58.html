<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:108pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Working with Views</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 42 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  // A template helper function to be merged with data</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:127pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  getAvatar: function (avatar) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:139pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    return avatar || &quot;images/default_avatar.png&quot;;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:152pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:164pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}));</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:183pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">So, while you are passing the data into the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">_.template()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method, you need to make </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:196pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">sure the template methods reside there as properties or subproperties. The question </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:208pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">is why do we need to add the helper function as a part of the data? The reason is </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:221pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">that most template libraries, including Underscore&apos;s template, create the data object </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:233pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">that is passed to it the context of the function. So, the helper function is called on the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:246pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">context of data and can only be available in that way.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:277pt;left:174pt"><span style="font-family:BookAntiqua,serif;font-size:9.5pt">There are a number of template engines that have some of the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:288pt;left:174pt"><span style="font-family:BookAntiqua,serif;font-size:9.5pt">previous solutions inbuilt. If you are developing a small application, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:300pt;left:174pt"><span style="font-family:BookAntiqua,serif;font-size:9.5pt">you may find Underscore&apos;s micro-templating solution enough for </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:311pt;left:174pt"><span style="font-family:BookAntiqua,serif;font-size:9.5pt">development. But if you are going to have complex templates in your </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:322pt;left:174pt"><span style="font-family:BookAntiqua,serif;font-size:9.5pt">application, we would recommend going for </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Handlebars</span><span style="font-family:BookAntiqua,serif;font-size:9.5pt">, a popular </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:334pt;left:174pt"><span style="font-family:BookAntiqua,serif;font-size:9.5pt">and well accepted template engine.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:373pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:20pt">Understanding automatic model-view </span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:397pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:20pt">data binding</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:420pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Whenever an attribute of the attached model changes, we refresh the view to  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:433pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">display the updated data. A </span><span style="font-family:CourierStd,serif;font-size:9.5pt">change</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> event listener is attached to the model  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:446pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">inside the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">initialize()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method of the view as follows:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:467pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">this.listenTo(this.model, &apos;change&apos;, this.render);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:486pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">However, there are options that can handle this data binding automatically and you </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:499pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">do not need to take care of it for every model-view relationship. This principle is </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:512pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">more aligned towards the MVVM design pattern than the Backbone&apos;s MV* pattern, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:524pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">and you will find it in frameworks such as </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Knockout.js</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> and </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Meteor.js</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:545pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">For Backbone, there are multiple plugins such as </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Backbone.Stickit</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:558pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">(</span><span style="font-family:CourierStd,serif;font-size:9.5pt">http://nytimes.github.io/backbone.stickit/</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">), </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Backbone.ModelBinder</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:571pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">(</span><span style="font-family:CourierStd,serif;font-size:9.5pt">https://github.com/theironcook/Backbone.ModelBinder</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">), and </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Rivets.js</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:583pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">(</span><span style="font-family:CourierStd,serif;font-size:9.5pt">http://www.rivetsjs.com/</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">). These plugins provide a similar data binding feature. </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:596pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">We are not going to discuss each plugin here; however, the implementation process </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:608pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">is simple and similar for all of these plugins. If you wish to use such functionality, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:621pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">look into these plugins and use the one that fits your needs.</span></p>
</div>
