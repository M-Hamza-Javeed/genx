<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:108pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Working with Models</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 60 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">You will see that the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">hobbies</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> array now becomes a shared property between both </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:127pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the instances of the model. This is not a desired case and you should always avoid </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:140pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">putting objects as default attributes. The solution to this problem can be achieved by </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:153pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">using a function for the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">defaults</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> property instead of an object:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:174pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">defaults: function() {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:186pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  return {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:199pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    hobbies: []</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:211pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:223pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:242pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">console.log(user1.get(&apos;hobbies&apos;));</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:255pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Output =&gt; [&quot;photography&quot;]</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:274pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">This function will get executed every time a model instance is created, and thus will </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:287pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">always send a new object for </span><span style="font-family:CourierStd,serif;font-size:9.5pt">defaults</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:317pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">Data interaction with the server</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:339pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The Backbone model has made data operations with the server quite easy by </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:352pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">providing a set of interesting methods such as </span><span style="font-family:CourierStd,serif;font-size:9.5pt">fetch()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">save()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">sync()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:365pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">destroy()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">. Let&apos;s look into each of these methods one by one. We will use the  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:377pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">same user model as we did earlier.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:399pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var User = Backbone.Model.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:411pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  url: &apos;/users&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:423pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:445pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:14pt">Creating a model</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:464pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">In general, if you set new values to the model and call the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">save()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method on it, your </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:476pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">server should create a new model in the database. Next time onwards, the model will </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:489pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">carry this </span><span style="font-family:CourierStd,serif;font-size:9.5pt">id</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> attribute and calling the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">save()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method again should only update the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:501pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">model and not create a new one:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:523pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var user = new User({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:535pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  name : &apos;Ashim De&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:547pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  age : 55</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:559pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:584pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">user.save({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:596pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  success : function(){},</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:608pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  error : function(){}</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:621pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});  </span></p>
</div>
