<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:225pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 11. Interfaces</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">program; the CGI scripts that supply most live content on the Web run in a special environment</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">provided by the server where they can take input (form arguments) from standard input, and write</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the generated HTML that is their result to standard output.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Though this pattern is quite traditional, the term &#x201c;CLI server&#x201d; is my invention.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:168pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Language-Based Interface Patterns</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:194pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In Chapter 8 we examined domain-speci&#xfb01;c minilanguages as a means of pushing program speci&#xfb01;-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:206pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">cation up a level, gaining &#xfb02;exibility, and minimizing bugs. These virtues make the language-based</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:218pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">CLI an important style of Unix interface &#x2014; one exempli&#xfb01;ed by the Unix shell itself.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:240pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The strengths of this pattern are well illustrated by the case study earlier in the chapter comparing</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:252pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">dc(1)/bc(1) with xcalc(1). The advantages that we observed earlier (the gain in expressiveness and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:264pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">scriptability) are typical of minilanguages; they generalize to other situations in which you routinely</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:276pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">have to sequence complex operations in a specialized problem domain. Often, unlike the calculator</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:288pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">case, minilanguages also have a clear advantage in concision.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:310pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">One of the most potent Unix design patterns is the combination of a GUI front end with a CLI</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:322pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">minilanguage back end.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:322pt;left:177pt"><span style="font-family:Times,serif;font-size:9.963pt">Well-designed examples of this type are necessarily rather complex, but</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:334pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">often a great deal simpler and more &#xfb02;exible than the amount of ad-hoc code that would be necessary</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:346pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to cover even a fraction of what the minilanguage can do.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:368pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">This general pattern is not, of course, unique to Unix. Modern database suites everywhere normally</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:380pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">consist of one or more GUI front ends and report generators, all of which talk to a common back-end</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:391pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">using a query language such as SQL. But this pattern mainly evolved under Unix and is still much</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">better understood and more widely applied there than elsewhere.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:425pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">When the front and back ends of a system ful&#xfb01;lling this design pattern are combined in a single</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:437pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">program, that program is often said to have an &#x2018;embedded scripting language&#x2019;. In the Unix world,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:449pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">Emacs</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is one of the best-known exemplars of this pattern; refer to our discussion of it in Chapter 8</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:461pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">for some advantages.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:483pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The script-fu facility of GIMP is another good example. GIMP is a powerful open-source graphics</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:495pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">editor.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:495pt;left:106pt"><span style="font-family:Times,serif;font-size:9.963pt">It has a GUI resembling that of Adobe Photoshop.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:495pt;left:318pt"><span style="font-family:Times,serif;font-size:9.963pt">Script-fu allows GIMP to be scripted</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:507pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">using Scheme (a dialect of Lisp); scripting through Tcl, or Perl or Python is also available. Programs</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:519pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">written in any of these languages can call GIMP internals through its plugin interface.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:519pt;left:452pt"><span style="font-family:Times,serif;font-size:9.963pt">The</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">319</span></p>
</div>
