<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:468pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Chapter 4</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 77 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">As you can see, the output is a collection sorted by age. Similarly, we can implement </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:127pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the alphabetical order with </span><span style="font-family:CourierStd,serif;font-size:9.5pt">name</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> as the comparator. The preceding functionality can </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:140pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">also be replicated by the following two options:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:161pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Underscore&apos;s sortBy() comparator</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:174pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">comparator: function (model) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:186pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  return model.get(&apos;age&apos;);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:198pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:223pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Underscore&apos;s sort() comparator</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:235pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">comparator: function (model1, model2) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:247pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  return model1.get(&apos;age&apos;) &lt; model2.get(&apos;age&apos;);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:259pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:279pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The first case is simple; it provides a string attribute to the comparator. The second </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:291pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">case provides a comparison between two models (</span><span style="font-family:CourierStd,serif;font-size:9.5pt">model1</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> and </span><span style="font-family:CourierStd,serif;font-size:9.5pt">model2</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">). If the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:304pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">age</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> attribute of </span><span style="font-family:CourierStd,serif;font-size:9.5pt">model1</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> is greater than that of </span><span style="font-family:CourierStd,serif;font-size:9.5pt">model2</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">model1</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> and </span><span style="font-family:CourierStd,serif;font-size:9.5pt">model2</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> will </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:316pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">interchange their positions to be in ascending order.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:16pt">Sorting a collection with multiple attributes</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:365pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Note that there are three 29-years-old values in the example mentioned in the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:378pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">preceding section. What if we want to sort these models according to the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">name</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:391pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">attribute too? The string comparison can also be done the same way as we did </span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">for numbers; the functionality will be simple (see the following example):</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:425pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">comparator: function (model1, model2) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:437pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  // If age is same, then sort by name</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:449pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  if (model1.get(&apos;age&apos;) === model2.get(&apos;age&apos;)) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:461pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    return model1.get(&apos;name&apos;) &gt; model2.get(&apos;name&apos;);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:474pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  } else {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:486pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    return model1.get(&apos;age&apos;) &gt; model2.get(&apos;age&apos;);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:498pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:510pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">}  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:535pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">console.log(users.pluck(&apos;name&apos;));</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:547pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">console.log(users.pluck(&apos;age&apos;));</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:566pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The preceding code only sorts the collection by the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">name</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> attribute. If two models </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:579pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">have the same age values, the result will look like the following:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:600pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">[&quot;Emily Johnson&quot;, &quot;Ben Cooper&quot;, &quot;John Doe&quot;, &quot;Swarnendu De&quot;, &quot;Richard </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:611pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">Smith&quot;, &quot;Sarah Castle&quot;]</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:623pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">[25, 29, 29, 29, 35, 40]</span></p>
</div>
