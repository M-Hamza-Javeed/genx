<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:222pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 13. Complexity</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">designed for editing plain text; it has only two fonts (one proportional and one &#xfb01;xed-width) and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">has no mechanism that could support rich-text editing or syntax awareness.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:15.94pt">The Right Size for an Editor</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:162pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Now let us examine our case studies using the complexity categories we developed at the beginning</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:174pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of this chapter.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:196pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Identifying the Complexity Problems</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:222pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Every text editor has a certain amount of essential complexity. At minimum, it has to maintain an</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:234pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">internal buffer copy of the &#xfb01;le or &#xfb01;les the user is editing. Functions to import and export &#xfb01;le data are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:246pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a minimum requirement (usually from and to disk, though the stream editor sed(1) is an interesting</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:258pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">exception).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:258pt;left:127pt"><span style="font-family:Times,serif;font-size:9.963pt">Some way to modify the buffer must be supported, though we cannot specify what</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:270pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">way without describing speci&#xfb01;c features that are optional. Our four examples show widely varying</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:282pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">levels of optional and accidental complexity beyond this.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:304pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Of all of these, ed(1) has the least complexity.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:304pt;left:279pt"><span style="font-family:Times,serif;font-size:9.963pt">Almost the only non-orthogonal feature in its</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:316pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">command set is the fact that many of its commands can take a &#x2018;p&#x2019; or &#x2018;l&#x2019; suf&#xfb01;x to print or list command</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:328pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">results. Even after three decades of feature additions there are fewer than thirty editing commands,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:340pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and the normal working set for most users will be less than a dozen. There is not much in the way of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:352pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">optional complexity that could be removed here, and it&#x2019;s hard to identify any accidental complexity</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:364pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">at all. The user interface of ed is strictly compact.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:385pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">On the &#xfb02;ip side, the ed interface is not really suitable for editing tasks even as basic as rapidly</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:397pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#xfb02;ipping through a text &#xfb01;le.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:397pt;left:191pt"><span style="font-family:Times,serif;font-size:9.963pt">One has to limit one&#x2019;s objectives pretty sharply for ed to become an</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:409pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">acceptable solution for interactive editing.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:431pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Suppose, then, that we add &#x201c;support visual browsing and editing of multiple &#xfb01;les&#x201d; as an objective?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:443pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Then Sam seems not very far from being the minimal ed extension that could achieve this.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:443pt;left:452pt"><span style="font-family:Times,serif;font-size:9.963pt">The</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:455pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">fact that the designers did not change the semantics of the inherited ed commands is notable; they</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:467pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">kept an existing, orthogonal set and added a relatively small set of capabilities that are themselves</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:479pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">orthogonal.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:500pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">One large increase in optional (implementation) complexity is Sam&#x2019;s in&#xfb01;nite-undo capability.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:512pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Another signi&#xfb01;cant one is the new regular-expression-based loop and iteration facility in the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:524pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">command language.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:524pt;left:166pt"><span style="font-family:Times,serif;font-size:9.963pt">These, and the fact that the mouse can be used as a selection device, are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">about all that distinguish Sam from a hypothetical ed with a mouse-and-windows interface.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">350</span></p>
</div>
