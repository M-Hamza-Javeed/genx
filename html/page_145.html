<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:468pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Chapter 8</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:293pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 129 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:114pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">Understanding the QUnit module (), setup (), </span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:135pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">and teardown () methods</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:157pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">To organize multiple test cases, we need something that can provide a block </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">structure and hold multiple tests together. The </span><span style="font-family:CourierStd,serif;font-size:9.5pt">module()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method allows us to  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:183pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">group the test cases together. Furthermore, it introduces the two methods, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">setup()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:195pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">and </span><span style="font-family:CourierStd,serif;font-size:9.5pt">teardown()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, that run before and after each test case, as shown in the following </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:208pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">code snippet:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:229pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// First module</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:241pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">module(&apos;1st module&apos;, {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:254pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  setup: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:266pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    // Runs before each test</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:278pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  },</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:290pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  teardown: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:303pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    // Runs after each test</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:315pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:327pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:339pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">test(&apos;Test 1&apos;, function () {});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:352pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">test(&apos;Test 2&apos;, function () {});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:376pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Second module</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">module(&apos;2nd module&apos;);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">test(&apos;Test 1&apos;, function () {});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:420pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The </span><span style="font-family:CourierStd,serif;font-size:9.5pt">setup()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method is quite useful when you need to instantiate an object  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:432pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">(such as a view or a collection) that will be used in multiple tests. The </span><span style="font-family:CourierStd,serif;font-size:9.5pt">teardown()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:445pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">method, on the other hand, is mostly used to clean up the resources that you added </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:458pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">as global variables.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:488pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">Testing Backbone.js components with QUnit</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:511pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Now as we understand the basics of </span><span style="font-family:CourierStd,serif;font-size:9.5pt">QUnit</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, let&apos;s try it with some Backbone </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:523pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">components. We will first start with a Backbone model and we will create </span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">a simple </span><span style="font-family:CourierStd,serif;font-size:9.5pt">User</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> model, as shown in the following code:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:557pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var User = Backbone.Model.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:569pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  defaults: {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:582pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    name: &apos;Swapan Guha&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:594pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    age: 56</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:606pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:618pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:643pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">module(&apos;User model tests&apos;, {</span></p>
</div>
