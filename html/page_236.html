<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:218pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 8. Minilanguages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:113pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># Poll this site second, unless Lord Voldemort zaps us first.</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:123pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">poll billywig.hogwarts.com with proto imap:</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:87pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">user harry_potter with pass &quot;floo&quot; is harry_potter here</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:156pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># Poll this site third in the cycle.</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:166pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># Password will be fetched from ~/.netrc</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:177pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">poll mailhost.net with proto imap:</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:188pt;left:87pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">user esr is esr here</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:218pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">This run-control &#xfb01;le can be viewed as an imperative minilanguage.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:218pt;left:356pt"><span style="font-family:Times,serif;font-size:9.963pt">There is an implied &#xfb02;ow of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:230pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">execution: cycle through the list of poll commands repeatedly (sleeping for a while at the end of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:242pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">each cycle), and for each site entry collect mail for each associated user in sequence. It is far from</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:254pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">being general-purpose; all it can do is sequence the program&#x2019;s polling behavior.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:276pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">As with pic(1), one could choose to view this minilanguage as either declarations or a very weak</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:288pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">imperative language, and argue endlessly over the distinction.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:288pt;left:338pt"><span style="font-family:Times,serif;font-size:9.963pt">On the one hand, it has neither</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:300pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">conditionals nor recursion nor loops; in fact, it has no explicit control structures at all. On the other</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:312pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">hand, it does describe actions rather than just relationships, which distinguishes it from a purely</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:324pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">declarative syntax like Glade GUI descriptions.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Run-control minilanguages for complex programs often straddle this border. We&#x2019;re making a point</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:357pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of this fact because not having explicit control structures in an imperative minilanguage can be a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:369pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">tremendous simpli&#xfb01;cation if the problem domain lets you get away with it.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:391pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">One notable feature of</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> .fetchmailrc</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> syntax is the use of optional noise keywords that are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">supported simply in order to make the speci&#xfb01;cations read a bit more like English.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:424pt"><span style="font-family:Times,serif;font-size:9.963pt">The &#x2018;with&#x2019;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:415pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">keywords and single occurrence of &#x2018;options&#x2019; in the example aren&#x2019;t actually necessary, but they help</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:427pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">make the declarations easier to read at a glance.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:449pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The traditional term for this sort of thing is</span><i><span style="font-family:Times,serif;font-size:9.963pt"> syntactic sugar</span></i><span style="font-family:Times,serif;font-size:9.963pt">; the maxim that goes with this is a famous</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:457pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">quip that &#x201c;syntactic sugar causes cancer of the semicolon&#x201d;.</span><sup><span style="font-family:Times,serif;font-size:6.273pt">88</span></sup><sup><span style="font-family:Times,serif;font-size:9.963pt"> </span></sup><span style="font-family:Times,serif;font-size:9.963pt">Indeed, syntactic sugar needs to be</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:473pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">used sparingly lest it obscure more than help.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:495pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In Chapter 9 we&#x2019;ll see how data-driven programming helps provide an elegant solution to the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:507pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">problem of editing</span><i><span style="font-family:Times,serif;font-size:9.963pt"> fetchmail</span></i><span style="font-family:Times,serif;font-size:9.963pt"> run-control &#xfb01;les through a GUI.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:526pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">88</span><span style="font-family:Times,serif;font-size:7.97pt">The line is owed to Alan Perlis, who did some of the pioneering work in software modularity around 1970. The semicolon</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">in question was the statement separator or terminator in various Algol-descended languages, including Pascal and C.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">235</span></p>
</div>
