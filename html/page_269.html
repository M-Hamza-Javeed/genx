<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:217pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 10. Con&#xfb01;guration</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">These queries are usually done in the order listed above.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:318pt"><span style="font-family:Times,serif;font-size:9.963pt">That way, later (more local) settings</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">override earlier (more global) ones. Settings found earlier can help the program compute locations</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">for later retrievals of con&#xfb01;guration data.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">When thinking about which mechanism to use to pass con&#xfb01;guration data to a program, bear in mind</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">that good Unix practice demands using whichever one most closely matches the expected lifetime</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of the preference. Thus: for preferences which are very likely to change between invocations, use</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">command-line switches. For preferences which change seldom, but that should be under individual</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">user control, use a run-control &#xfb01;le in the user&#x2019;s home directory.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:340pt"><span style="font-family:Times,serif;font-size:9.963pt">For preference information that</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">needs to be set site-wide by a system administrator and</span><i><span style="font-family:Times,serif;font-size:9.963pt"> not</span></i><span style="font-family:Times,serif;font-size:9.963pt"> changed by users, use a run-control &#xfb01;le</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:217pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">in system space.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">We&#x2019;ll discuss each of these places in more detail, then examine some case studies.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:262pt;left:71pt"><b><span style="font-family:Helvetica,sans-serif;font-size:15.94pt">Run-Control Files</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:290pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">A run-control &#xfb01;le is a &#xfb01;le of declarations or commands associated with a program that it interprets</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:302pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">on startup. If a program has site-speci&#xfb01;c con&#xfb01;guration shared by all users at a site, it will often have</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:314pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">a run-control &#xfb01;le under the</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> /etc</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> directory. (Some Unixes have an</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> /etc/conf</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> subdirectory that</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:326pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">collects such data.)</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:348pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">User-speci&#xfb01;c con&#xfb01;guration information is often carried in a hidden run-control &#xfb01;le in the user&#x2019;s</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:360pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">home directory. Such &#xfb01;les are often called &#x2018;dot&#xfb01;les&#x2019; because they exploit the Unix convention that a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:372pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">&#xfb01;lename beginning with a dot is normally invisible to directory-listing tools.</span><sup><span style="font-family:Times,serif;font-size:6.273pt">100</span></sup></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:394pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Programs can also have run-control or dot directories. These group together several con&#xfb01;guration</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:406pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">&#xfb01;les that are related to the program, but that are most conveniently treated separately (perhaps</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:418pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">because they relate to different subsystems of the program, or have differing syntaxes).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:440pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Whether &#xfb01;le or directory, convention now dictates that the location of the run-control information has</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:452pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">the same basename as the executable that reads it. An older convention still common among system</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:460pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">programs uses the executable&#x2019;s name with the suf&#xfb01;x &#x2018;rc&#x2019; for &#x2018;run control&#x2019;.</span><sup><span style="font-family:Times,serif;font-size:6.273pt">101</span></sup><sup><span style="font-family:Times,serif;font-size:9.963pt"> </span></sup><span style="font-family:Times,serif;font-size:9.963pt">Thus, if you write a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:476pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">program called &#x2018;seekstuff&#x2019; that has both site-wide and user-speci&#xfb01;c con&#xfb01;guration, an experienced</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:488pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Unix user would expect to &#xfb01;nd the former at</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> /etc/seekstuff</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> and the latter at</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> .seekstuff</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> in the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:507pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">100</span><span style="font-family:Times,serif;font-size:7.97pt">To make dot&#xfb01;les visible, use the</span><tt><span style="font-family:Courier,monospace;font-size:7.173pt"> -a</span></tt><span style="font-family:Times,serif;font-size:7.97pt"> option of ls(1).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:516pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">101</span><span style="font-family:Times,serif;font-size:7.97pt">The &#x2018;rc&#x2019; suf&#xfb01;x goes back to Unix&#x2019;s grandparent, CTSS. It had a command-script feature called &quot;runcom&quot;. Early Unixes</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:526pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">used &#x2018;rc&#x2019; for the name of the operating system&#x2019;s boot script, as a tribute to CTSS runcom.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">268</span></p>
</div>
