<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:221pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 6. Transparency</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; Are the function calls in your APIs individually orthogonal, or do they have too many magic</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">&#xfb02;ags and mode bits that have a single call doing multiple tasks? Avoiding mode &#xfb02;ags entirely</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">can lead to a cluttered API with too many nigh-identical functions, but the obverse error (lots of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">easily-forgotten and confusable mode &#xfb02;ags) is even more common.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; Are there a handful of prominent data structures or a single global scoreboard that captures the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">high-level state of the system? Is this state easy to visualize and inspect, or is it diffused among</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">many individual global variables or objects that are hard to &#xfb01;nd?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; Is there a clean, one-to-one mapping between data structures or classes in your program and the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">entities in the world that they represent?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:237pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; Is it easy to &#xfb01;nd the portion of the code responsible for any given function? How much attention</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:249pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">have you paid to the readability not just of individual functions and modules but of the whole</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">codebase?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:283pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; Does the code proliferate special cases or avoid them?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:283pt;left:315pt"><span style="font-family:Times,serif;font-size:9.963pt">Every special case could interact with</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:295pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">every other special case; all those potential collisions are bugs waiting to happen. But even more</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:307pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">importantly, special cases make the code harder to understand.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:329pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; How many magic numbers (unexplained constants) does the code have in it?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:329pt;left:418pt"><span style="font-family:Times,serif;font-size:9.963pt">Is it easy to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:341pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">discover the implementation&#x2019;s limits (such as critical buffer sizes) by inspection?</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:365pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">It&#x2019;s best for code to be simple. But if it answers these sorts of questions well, it can be very complex</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:377pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">without putting an impossible cognitive burden on a human maintainer.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:399pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The reader might &#xfb01;nd it instructive to compare these with our checklist questions about modularity</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:411pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">in Chapter 4.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:433pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Transparency and Avoiding Overprotectiveness</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:459pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Close kin to the programmer tendency to build overelaborate castles of abstractions is a tendency</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:471pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to overprotect others from the low-level details.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:471pt;left:275pt"><span style="font-family:Times,serif;font-size:9.963pt">While it&#x2019;s not bad practice to hide those details</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:483pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">in the program&#x2019;s normal mode of operation (</span><i><span style="font-family:Times,serif;font-size:9.963pt">fetchmail</span></i><span style="font-family:Times,serif;font-size:9.963pt">&#x2019;s</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> -v</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> switch is off by default), they should be</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:495pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">discoverable. There&#x2019;s an important difference between hiding them and making them inaccessible.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:517pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Programs that</span><i><span style="font-family:Times,serif;font-size:9.963pt"> cannot</span></i><span style="font-family:Times,serif;font-size:9.963pt"> reveal what they are doing make troubleshooting far more dif&#xfb01;cult. Thus,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:529pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">experienced Unix users actually take the presence of debugging and instrumentation switches as a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">182</span></p>
</div>
