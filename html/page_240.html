<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:218pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 8. Minilanguages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">We &#xfb01;rst examined bc(1) and dc(1) in Chapter 7 as a case study in shellouts. They are examples of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">domain-speci&#xfb01;c minilanguages of the imperative type.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:108pt"><i><span style="font-family:Times,serif;font-size:9.963pt">dc</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is the oldest language on Unix; it was written on the PDP-7 and ported to the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">PDP-11 before Unix [itself] was ported.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:296pt"><span style="font-family:Times,serif;font-size:9.963pt;color:#ff0000">&lt;author&gt;KenThompson&lt;/author&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:191pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">The domain of these two languages is unlimited-precision arithmetic.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:191pt;left:369pt"><span style="font-family:Times,serif;font-size:9.963pt">Other programs can use</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">them to do such calculations without having to worry about the special techniques needed to do</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">those calculations.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:237pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">In fact, the original motivation for dc had nothing to do with providing a general-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:249pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">purpose interactive calculator, which could have been done with a simple &#xfb02;oating-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">point program. The motivation was Bell Labs&#x2019; long interest in numerical analysis:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">calculating constants for numerical algorithms,</span><i><span style="font-family:Times,serif;font-size:9.963pt"> accurately</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is greatly aided by</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">being able to work to much higher precision than the algorithm itself will use.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">Hence dc&#x2019;s arbitrary-precision arithmetic.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:321pt;left:298pt"><span style="font-family:Times,serif;font-size:9.963pt;color:#ff0000">&lt;author&gt;HenrySpencer&lt;/author&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:343pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Like SNG and</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Glade</span></i><span style="font-family:Times,serif;font-size:9.963pt"> markup, one of the strengths of both of these languages is their simplicity.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Once you know that dc(1) is a reverse-Polish-notation calculator and bc(1) an algebraic-notation</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">calculator, very little about interactive use of either of these languages is going to be novel. We&#x2019;ll</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:379pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">return to the importance of the Rule of Least Surprise in interfaces in Chapter 11.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">These minilanguages have both conditionals and loops; they are Turing-complete, but have a very</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">restricted ontology of types including only unlimited-precision integers and strings.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:429pt"><span style="font-family:Times,serif;font-size:9.963pt">This puts</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:425pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">them in the borderland between interpreted minilanguages and full scripting languages.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:425pt;left:452pt"><span style="font-family:Times,serif;font-size:9.963pt">The</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:437pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">programming features have been designed not to intrude on the common use as a calculator; indeed,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:448pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">most</span><i><span style="font-family:Times,serif;font-size:9.963pt"> dc</span></i><span style="font-family:Times,serif;font-size:9.963pt">/</span><i><span style="font-family:Times,serif;font-size:9.963pt">bc</span></i><span style="font-family:Times,serif;font-size:9.963pt"> users are probably unaware of them.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:470pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Normally,</span><i><span style="font-family:Times,serif;font-size:9.963pt"> dc</span></i><span style="font-family:Times,serif;font-size:9.963pt">/</span><i><span style="font-family:Times,serif;font-size:9.963pt">bc</span></i><span style="font-family:Times,serif;font-size:9.963pt"> are used conversationally, but their capacity to support libraries of user-de&#xfb01;ned</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:482pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">procedures gives them an additional kind of utility &#x2014; programmability.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:482pt;left:385pt"><span style="font-family:Times,serif;font-size:9.963pt">This is actually the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:494pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">most important advantage of imperative minilanguages, one that we observed in the case study</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:506pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">of the Documenter&#x2019;s Workbench tools to be very powerful whether or not a program&#x2019;s normal</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:518pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">mode is conversational; you can use them to write high-level programs that embody task-speci&#xfb01;c</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:530pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">intelligence.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">239</span></p>
</div>
