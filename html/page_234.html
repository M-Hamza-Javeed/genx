<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:218pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 8. Minilanguages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:102pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">arrow from M.w + (0.4, 1.0) to M.e + (-0.4, 1.0)</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:113pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;declarative to imperative&quot; &quot;&quot; at last arrow.c</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:123pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">arrow from I.w + (0.4, 0.8) to I.e + (-0.4, 0.8)</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;less to more general&quot; &quot;&quot; at last arrow.c</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:145pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">#</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:156pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># The arrow of loopiness</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:166pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">arrow from D.w + (0, 1.2) to I.e + (0, 1.2)</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:177pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;increasing loopiness&quot; &quot;&quot; at last arrow.c</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:188pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">#</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:199pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># Flat data files</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:210pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;/etc/passwd&quot; &quot;.newsrc&quot; at 0.5 between D.c and D.w</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:220pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># Structured data files</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:231pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;SNG&quot; at 0.5 between D.c and M.w</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:242pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># Datafile/minilanguage borderline cases</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:253pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;regexps&quot; &quot;Glade&quot; at 0.5 between M.w and D.e</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:263pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># Declarative minilanguages</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:274pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;m4&quot; &quot;Yacc&quot; &quot;Lex&quot; &quot;make&quot; &quot;XSLT&quot; &quot;pic&quot; &quot;tbl&quot; &quot;eqn&quot; \</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:77pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">at 0.5 between M.c and D.e</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:296pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># Imperative minilanguages</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:306pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;fetchmail&quot; &quot;awk&quot; &quot;troff&quot; &quot;Postscript&quot; at 0.5 between M.c and I.w</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:317pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># Minilanguage/interpreter borderline cases</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:328pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;dc&quot; &quot;bc&quot; at 0.5 between I.w and M.e</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:339pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># Interpreters</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:349pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;Emacs Lisp&quot; &quot;JavaScript&quot; at 0.25 between M.e and I.e</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:360pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;sh&quot; &quot;tcl&quot; at 0.55 between M.e and I.e</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:371pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">&quot;Perl&quot; &quot;Python&quot; &quot;Java&quot; at 0.8 between M.e and I.e</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:412pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">This is a very typical Unix minilanguage design, and as such has some points of interest even on the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:424pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">purely syntactic level.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:424pt;left:167pt"><span style="font-family:Times,serif;font-size:9.963pt">Notice how much it looks like a shell program: # leads comments, and the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:436pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">syntax is obviously token-oriented with the simplest possible convention for strings. The designer</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:448pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of pic(1) knew that Unix programmers expect minilanguage syntaxes to look like this unless there</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:460pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">is a strong and speci&#xfb01;c reason they should not. The Rule of Least Surprise is in full operation here.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:482pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">It probably doesn&#x2019;t take a lot of effort to discern that the &#xfb01;rst line of code is a macro de&#xfb01;nition; the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:494pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">later references to</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> smallellipse()</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> encapsulate a repeated design element of the diagram.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:494pt;left:452pt"><span style="font-family:Times,serif;font-size:9.963pt">Nor</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:506pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">will it take much scrutiny to deduce that</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> box invis</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> declares a box with invisible borders, actually</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:518pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">just a frame for text to be stacked inside. The</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> arrow</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> command is equally obvious.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">233</span></p>
</div>
