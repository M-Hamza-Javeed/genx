<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:234pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 15. Tools</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">One issue is</span><i><span style="font-family:Times,serif;font-size:9.963pt"> portability</span></i><span style="font-family:Times,serif;font-size:9.963pt">. Make&#xfb01;le generators are commonly built to run on many different hardware</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">platforms and Unix variants. They generally try to deduce things about the local system (including</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">everything from machine word size up to which tools, languages, service libraries, and even</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">document formatters it has available). They then try to use those deductions to write make&#xfb01;les</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">that exploit the local system&#x2019;s facilities and compensate for its quirks.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:169pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The other issue is</span><i><span style="font-family:Times,serif;font-size:9.963pt"> dependency derivation</span></i><span style="font-family:Times,serif;font-size:9.963pt">. It&#x2019;s possible to deduce a great deal about the dependencies</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of a collection of C sources by analyzing the sources themselves (especially by looking at what</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">include &#xfb01;les they use and share). Many make&#xfb01;le generators do this in order to mechanically generate</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">make</span></i><span style="font-family:Times,serif;font-size:9.963pt"> dependencies.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Each different make&#xfb01;le generator tackles these objectives in a slightly different way. Probably a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">dozen or more generators have been attempted, but most proved inadequate or too dif&#xfb01;cult to drive</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:251pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">or both, and only a few are still in live use. We&#x2019;ll survey the major ones here. All are available as</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:263pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">open-source software on the Internet.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:284pt;left:72pt"><b><i><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">makedepend</span></i></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:308pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Several small tools have tackled the rule automation part of the problem exclusively. This one,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:320pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">distributed along with the X windowing system from MIT, is the fastest and most useful and comes</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:332pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">preinstalled under all modern Unixes, including all Linuxes.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:354pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">makedepend</span></i><span style="font-family:Times,serif;font-size:9.963pt"> takes a collection of C sources and generates dependencies for the corresponding</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> .o</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:366pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#xfb01;les from their</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> #include</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> directives. These can be appended directly to a make&#xfb01;le, and in fact</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:378pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">makedepend is de&#xfb01;ned to do exactly that.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:399pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">makedepend</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is useless for anything but C projects. It doesn&#x2019;t try to solve more than one piece of the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:411pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">make&#xfb01;le-generation problem. But what it does it does quite well.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:433pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">makedepend</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is suf&#xfb01;ciently documented by its manual page. If you type</span><b><span style="font-family:Times,serif;font-size:9.963pt"> man makedepend</span></b><span style="font-family:Times,serif;font-size:9.963pt"> at a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:445pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">terminal window you will quickly learn what you need to know about invoking it.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:467pt;left:72pt"><b><i><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Imake</span></i></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:491pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">Imake</span></i><span style="font-family:Times,serif;font-size:9.963pt"> was written in an attempt to mechanize make&#xfb01;le generation for the X window system. It</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:503pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">builds on</span><i><span style="font-family:Times,serif;font-size:9.963pt"> makedepend</span></i><span style="font-family:Times,serif;font-size:9.963pt"> to tackle both the dependency-derivation and portability problems.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:524pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">Imake</span></i><span style="font-family:Times,serif;font-size:9.963pt"> system effectively replaces conventional make&#xfb01;les with Imake&#xfb01;les.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:524pt;left:393pt"><span style="font-family:Times,serif;font-size:9.963pt">These are written</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">in a more compact and powerful notation which is (effectively) compiled into make&#xfb01;les.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:452pt"><span style="font-family:Times,serif;font-size:9.963pt">The</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">402</span></p>
</div>
