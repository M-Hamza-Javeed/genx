<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:217pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 10. Con&#xfb01;guration</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">is appropriate because, once it has been initially set up, Fetchmail&#x2019;s con&#xfb01;guration will change only</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">infrequently.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">There is neither an</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> /etc/fetchmailrc</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> nor any other systemwide &#xfb01;le speci&#xfb01;c to fetchmail.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Normally such &#xfb01;les hold con&#xfb01;guration that&#x2019;s not speci&#xfb01;c to an individual user. fetchmail does use a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">small set of properties with this kind of scope &#x2014; speci&#xfb01;cally, the name of the local postmaster, and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a few switches and values describing the local mail transport setup (such as the port number of the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">local SMTP listener). In practice, however, these are seldom changed from their compiled-in default</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">values.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:109pt"><span style="font-family:Times,serif;font-size:9.963pt">When they are changed, they tend to be modi&#xfb01;ed in user-speci&#xfb01;c ways. Thus, there has</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">been no demand for a systemwide fetchmail run-control &#xfb01;le.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Fetchmail can retrieve host/login/password triples from a</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> .netrc</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> &#xfb01;le. Thus, it gets authenticator</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">information in the least surprising way.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Fetchmail has an elaborate set of command-line options, which nearly but do not entirely replicate</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">what the</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> .fetchmailrc</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> can express. The set was not originally large, but grew over time as new</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">constructs were added to the</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> .fetchmailrc</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> minilanguage and parallel command-line options for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">them were added more or less re&#xfb02;exively.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:319pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">The intent of supporting all these options was to make fetchmail easier to script by allowing users to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:331pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">override bits of its run control from the command line. But it turns out that outside of a few options</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:343pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">like</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> --fetchall</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> and</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> --verbose</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> there is little demand for this &#x2014; and none that can&#x2019;t be satis&#xfb01;ed</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">with a shellscript that creates a temporary run-control &#xfb01;le on the &#xfb02;y and then feeds it to fetchmail</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">using the</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> -f</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> option.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:389pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Thus, most of the command-line options are never used, and in retrospect including them was</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">probably a mistake; they bulk up the fetchmail code a bit without accomplishing anything very</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">useful.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:435pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">If bulking up the code were the only problem, nobody would care, except for a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:446pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">couple of maintainers.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:446pt;left:207pt"><span style="font-family:Times,serif;font-size:9.963pt">However, options increase the chances of error in code,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:458pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">particularly due to unforeseen interactions among rarely used options.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:458pt;left:404pt"><span style="font-family:Times,serif;font-size:9.963pt">Worse,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:470pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">they bulk up the manual, which is a burden on everybody.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:482pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:494pt;left:301pt"><span style="font-family:Times,serif;font-size:9.963pt;color:#ff0000">&lt;author&gt;DougMcIlroy&lt;/author&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:516pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">There is a lesson here; had I thought carefully enough about fetchmail&#x2019;s usage pattern and been a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:528pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">little less ad-hoc about adding features, the extra complexity might have been avoided.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">285</span></p>
</div>
