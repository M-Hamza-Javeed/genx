<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:219pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 19. Open Source</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">If you&#x2019;re writing C/C++ using GCC, test-compile with -Wall and clean up all warning messages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">before each release. Compile your code with every compiler you can &#xfb01;nd &#x2014; different compilers</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">often &#xfb01;nd different problems.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:205pt"><span style="font-family:Times,serif;font-size:9.963pt">Speci&#xfb01;cally, compile your software on a true 64-bit machine.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Underlying datatypes can change on 64-bit machines, and you will often &#xfb01;nd new problems there.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Find a Unix vendor&#x2019;s system and run the lint utility over your software.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:169pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Run tools that look for memory leaks and other runtime errors; Electric Fence and Valgrind are two</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">good ones available in open source.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">For Python projects, the PyChecker [http://sourceforge.net/projects/pychecker] program can be a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">useful check. It often catches nontrivial errors.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:236pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">If you&#x2019;re writing Perl, check your code with perl</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> -c</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> (and maybe</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> -T</span></tt><span style="font-family:Times,serif;font-size:9.963pt">, if applicable). Use perl</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> -w</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:248pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2019;use strict&#x2019; religiously. (See the Perl documentation for further discussion.)</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:270pt;left:71pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Spell-check your documentation and READMEs before release.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:294pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Spell-check your documentation, README &#xfb01;les and error messages in your software. Sloppy code,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:306pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">code that produces warning messages when compiled, and spelling errors in README &#xfb01;les or error</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:318pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">messages, all lead users to believe the engineering behind it is also haphazard and sloppy.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:340pt;left:71pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Recommended C/C++ Portability Practices</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:364pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">If you are writing C, feel free to use the full ANSI features. Speci&#xfb01;cally, do use function prototypes,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:376pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">which will help you spot cross-module inconsistencies.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:376pt;left:301pt"><span style="font-family:Times,serif;font-size:9.963pt">The old-style K&amp;R compilers are ancient</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">history.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:409pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Do not assume compiler-speci&#xfb01;c features such as the GCC</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> -pipe</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> option or nested functions are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:421pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">available. These will come around and bite you the second somebody ports to a non-Linux, non-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:433pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">GCC system.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:455pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Code required for portability should be isolated to a single area and a single set of source &#xfb01;les (for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:467pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">example, an</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> os</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> subdirectory).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:467pt;left:202pt"><span style="font-family:Times,serif;font-size:9.963pt">Compiler, library and operating system interfaces with portability</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:479pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">issues should be abstracted to &#xfb01;les in this directory.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:500pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">A portability layer is a library (or perhaps just a set of macros in header &#xfb01;les) that abstracts away</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:512pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">just the parts of an operating system&#x2019;s API your program is interested in.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:512pt;left:374pt"><span style="font-family:Times,serif;font-size:9.963pt">Portability layers make</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:524pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">it easier to do new software ports. Often, no member of the development team knows the porting</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">platform (for example, there are literally hundreds of different embedded operating systems, and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">491</span></p>
</div>
