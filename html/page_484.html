<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:219pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 19. Open Source</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">instead; speci&#xfb01;cally, send the output of the diff(1) command run to compare the baseline distributed</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">version against your modi&#xfb01;ed version.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:133pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The diff(1) command and its dual, patch(1), are the most basic tools of open-source development.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:145pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Diffs are better than whole &#xfb01;les because the developer you&#x2019;re sending a patch to may have changed</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:157pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the baseline version since you got your copy.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:157pt;left:267pt"><span style="font-family:Times,serif;font-size:9.963pt">By sending him a diff you save him the effort of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:169pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">separating your changes from his; you show respect for his time.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:191pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Send patches against the current version of the code.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">It is both counterproductive and rude to send a maintainer patches against the code as it existed</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">several releases ago, and expect him to do all the work of determining which changes duplicate</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">things he has since done, versus which things are actually novel in your patch.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:260pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">As a patch submitter, it is</span><i><span style="font-family:Times,serif;font-size:9.963pt"> your</span></i><span style="font-family:Times,serif;font-size:9.963pt"> responsibility to track the state of the source and send the maintainer</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:272pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a minimal patch that expresses what you want done to the main-line codebase. That means sending</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:284pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a patch against the current version.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:306pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Don&#x2019;t include patches for generated &#xfb01;les.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:330pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Before you send your patch, walk through it and delete any patch bands for &#xfb01;les in it that are going</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:342pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to be automatically regenerated once the maintainer applies the patch and remakes.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:342pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">The classic</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:354pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">examples of this error are C &#xfb01;les generated by</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Bison</span></i><span style="font-family:Times,serif;font-size:9.963pt"> or</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Flex</span></i><span style="font-family:Times,serif;font-size:9.963pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:376pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">These days the most common mistake of this kind is sending a diff with a huge band that is nothing</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">but changebars between your</span><b><span style="font-family:Times,serif;font-size:9.963pt"> con&#xfb01;gure</span></b><span style="font-family:Times,serif;font-size:9.963pt"> script and the maintainer&#x2019;s.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:366pt"><span style="font-family:Times,serif;font-size:9.963pt">This &#xfb01;le is generated by</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:399pt;left:72pt"><b><span style="font-family:Times,serif;font-size:9.963pt">autoconf</span></b><span style="font-family:Times,serif;font-size:9.963pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:421pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">This is inconsiderate. It means your recipient is put to the trouble of separating the real content of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:433pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the patch from a lot of bulky noise. It&#x2019;s a minor error, not as important as some of the things we&#x2019;ll</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:445pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">get to further on &#x2014; but it will count against you.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:467pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Don&#x2019;t send patch bands that just tweak RCS or SCCS $-symbols.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:491pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Some people put special tokens in their source &#xfb01;les that are expanded by the version-control system</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:503pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">when the &#xfb01;le is checked in: the $Id$ construct used by RCS and CVS, for example.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:524pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">If you&#x2019;re using a local version-control system yourself, your changes may alter these tokens. This</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">isn&#x2019;t really harmful, because when your recipient checks his code back in after applying your patch</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">483</span></p>
</div>
