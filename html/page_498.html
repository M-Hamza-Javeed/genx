<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:219pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 19. Open Source</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The de facto standard format for installable binary packages under Linux that used by the Red Hat</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Package manager, RPM. It&#x2019;s featured in the most popular Linux distribution, and supported by</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">effectively all other Linux distributions (except Debian and Slackware; and Debian can install from</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">RPMs). Accordingly, it&#x2019;s a good idea for your project site to provide installable RPMs as well as</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">source tarballs.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">It&#x2019;s also a good idea for you to include in your source tarball the RPM spec &#xfb01;le, with a production</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">that makes RPMs from it in your</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> makefile</span></tt><span style="font-family:Times,serif;font-size:9.963pt">. The spec &#xfb01;le should have the extension</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> .spec</span></tt><span style="font-family:Times,serif;font-size:9.963pt">; that&#x2019;s</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">how the</span><i><span style="font-family:Times,serif;font-size:9.963pt"> rpm</span></i><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> -t</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> option &#xfb01;nds it in a tarball.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">For extra style points, generate your spec &#xfb01;le with a shellscript that automatically plugs in the correct</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">version number by analyzing the project</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> makefile</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> or a</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> version.h</span></tt><span style="font-family:Times,serif;font-size:9.963pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:249pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Note: If you supply source RPMs, use BuildRoot to make the program be built in</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> /tmp</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> or</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">/var/tmp</span></tt><span style="font-family:Times,serif;font-size:9.963pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:130pt"><span style="font-family:Times,serif;font-size:9.963pt">If you don&#x2019;t, during the course of running the make install part of your build, the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">install will install the &#xfb01;les in the real &#xfb01;nal places. This will happen even if there are &#xfb01;le collisions,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and even if you didn&#x2019;t want to install the package at all. When you&#x2019;re done, the &#xfb01;les will have been</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">installed and your system&#x2019;s RPM database will not know about it. Such badly behaved SRPMs are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a mine&#xfb01;eld and should be eschewed.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:331pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Provide checksums.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Provide checksums with your binaries (tarballs, RPMs, etc.). This will allow people to verify that</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">they haven&#x2019;t been corrupted or had Trojan-horse code inserted in them.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:389pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">While there are several commands you can use for this purpose (such as</span><b><span style="font-family:Times,serif;font-size:9.963pt"> sum</span></b><span style="font-family:Times,serif;font-size:9.963pt"> and</span><b><span style="font-family:Times,serif;font-size:9.963pt"> cksum</span></b><span style="font-family:Times,serif;font-size:9.963pt">) it is best</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to use a cryptographically-secure hash function. The GPG package provides this capability via the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">--detach-sign</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> option; so does the GNU command</span><b><span style="font-family:Times,serif;font-size:9.963pt"> md5sum</span></b><span style="font-family:Times,serif;font-size:9.963pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:435pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">For each binary you ship, your project Web page should list the checksum and the command you</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:447pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">used to generate it.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:469pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Good Communication Practice</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:495pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Your software and documentation won&#x2019;t do the world much good if nobody but you knows they</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:507pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">exist. Also, developing a visible presence for the project on the Internet will assist you in recruiting</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:519pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">users and co-developers. Here are the standard ways to do that.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">497</span></p>
</div>
