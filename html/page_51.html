<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:468pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Chapter 2</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 35 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">In most cases, as you re-render a parent view, it should not re-initialize its child </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:127pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">views every time. So, it is preferable to initialize the child views in the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">initialize()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:140pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">method of the parent view, and add them in an array that can later be used in the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:153pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">render()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:174pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var ParentView = Backbone.View.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:186pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  initialize: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:199pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    this.subViews = []; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:211pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">   </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:223pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">   // Initializing the child views</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:235pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    this.subViews.push(new ChildView(), new ChildView()];</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:247pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  },</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:272pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  render: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:284pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    this.$el.html(this.template);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  // Render each child view</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:321pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    _(this.subViews).each(function (view) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:333pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      this.$el.append(view.render().el);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    }, this);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:370pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    return this;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:382pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:394pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:414pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">This way, multiple calls to the parent </span><span style="font-family:CourierStd,serif;font-size:9.5pt">render()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method will maintain the state of the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:426pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">view and will only render the subviews again.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:457pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">Removing parent views</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:479pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">In the previous scenario, where the company details and its employee list are shown, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:492pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">we assume a situation where we need to destroy this complete view and show a new </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:504pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">view instead. Now, how do we destroy a view? We simply call the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">remove()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:517pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">on it and it unbinds all the events that were registered with the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">listenTo()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method. </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:530pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">It also removes the complete view along with its child view elements from the DOM.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:551pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Are we unbinding the events of the child views here? No. The child views are </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:563pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">removed from the DOM for sure, but we are not calling the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">remove()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:576pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">on them. So, the models still exist and the events attached to the model still hold </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:589pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">a reference to the view (or the view&apos;s methods). As a result, even if the view&apos;s </span><span style="font-family:CourierStd,serif;font-size:9.5pt">el</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:601pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">property is removed from the DOM, those view objects will not be garbage collected.</span></p>
</div>
