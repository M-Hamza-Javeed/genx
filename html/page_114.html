<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:225pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 4. Modularity</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">half-a-dozen other tools like sed(1) and awk(1)). C++ is anti-compact &#x2014; the language&#x2019;s designer</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">has admitted that he doesn&#x2019;t expect any one programmer to ever understand it all.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Some designs that are not compact have enough internal redundancy of features that individual</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">programmers end up carving out compact dialects suf&#xfb01;cient for that 80% of common tasks by</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">choosing a working subset of the language. Perl has this kind of pseudo-compactness, for example.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Such designs have a built-in trap; when two programmers try to communicate about a project, they</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">may &#xfb01;nd that differences in their working subsets are a signi&#xfb01;cant barrier to understanding and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">modifying the code.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Noncompact designs are not automatically doomed or bad, however.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:357pt"><span style="font-family:Times,serif;font-size:9.963pt">Some problem domains are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">simply too complex for a compact design to span them.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:308pt"><span style="font-family:Times,serif;font-size:9.963pt">Sometimes it&#x2019;s necessary to trade away</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">compactness for some other virtue, like raw power and range. Troff markup is a good example of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:251pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">this.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:251pt;left:99pt"><span style="font-family:Times,serif;font-size:9.963pt">So is the BSD sockets API. The purpose of emphasizing compactness as a virtue is not to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:263pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">condition you to treat compactness as an absolute requirement, but to teach you to do what Unix</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:275pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">programmers do: value compactness properly, design for it whenever possible, and not throw it</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:287pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">away casually.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Orthogonality</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:336pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Orthogonality is one of the most important properties that can help make even complex designs</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:348pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">compact. In a purely orthogonal design, operations do not have side effects; each action (whether</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:360pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">it&#x2019;s an API call, a macro invocation, or a language operation) changes just one thing without affecting</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:372pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">others.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:372pt;left:113pt"><span style="font-family:Times,serif;font-size:9.963pt">There is one and only one way to change each property of whatever system you are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:384pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">controlling.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:405pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Your monitor has orthogonal controls. You can change the brightness independently of the contrast</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:417pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">level, and (if the monitor has one) the color balance control will be independent of both. Imagine</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:429pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">how much more dif&#xfb01;cult it would be to adjust a monitor on which the brightness knob affected the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:441pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">color balance: you&#x2019;d have to compensate by tweaking the color balance every time after you changed</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:453pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the brightness.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:453pt;left:139pt"><span style="font-family:Times,serif;font-size:9.963pt">Worse, imagine if the contrast control also affected the color balance; then, you&#x2019;d</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:465pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">have to adjust both knobs simultaneously in exactly the right way to change either contrast or color</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:477pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">balance alone while holding the other constant.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:499pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Far too many software designs are non-orthogonal.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:499pt;left:295pt"><span style="font-family:Times,serif;font-size:9.963pt">One common class of design mistake, for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:511pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">example, occurs in code that reads and parses data from one (source) format to another (target)</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:523pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">format. A designer who thinks of the source format as always being stored in a disk &#xfb01;le may write</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:535pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the conversion function to open and read from a named &#xfb01;le.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:535pt;left:324pt"><span style="font-family:Times,serif;font-size:9.963pt">Usually the input could just as well</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">113</span></p>
</div>
