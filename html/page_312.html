<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:225pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 11. Interfaces</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Owen Taylor, maintainer of the GTK+ library widely used for writing user interfaces under X,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">beautifully brings out the engineering bene&#xfb01;ts of this kind of partitioning at the end of his note Why</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">GTK_MODULES is not a security hole [http://www.gtk.org/setuid.html]; he &#xfb01;nishes by writing</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&quot;[T]he secure setuid program is a 500 line program that does only what it needs to, rather than a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">500,000 line library whose essential task is user interfaces&quot;.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">This is not a new idea. Xerox PARC&#x2019;s early research into graphical user interfaces led them to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">propose the &#x201c;model-view-controller&#x201d; pattern as an archetype for GUIs.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; The &#x201c;model&#x201d; is what in the Unix world is usually called an &#x201c;engine&#x201d;.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:373pt"><span style="font-family:Times,serif;font-size:9.963pt">The model contains the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">domain-speci&#xfb01;c data structures and logic for your application. Database servers are archetypal</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">examples of models.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; The &#x201c;view&#x201d; part is what renders your domain objects into a visible form.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:401pt"><span style="font-family:Times,serif;font-size:9.963pt">In a really well-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">separated model/view/controller application, the view component is noti&#xfb01;ed of updates to the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">model and responds on its own, rather than being driven synchronously by the controller or by</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">explicit requests for a refresh.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:319pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; The &#x201c;controller&#x201d; processes user requests and passes them as commands to the model.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:343pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In practice, the view and controller parts tend to be more closely bound together than either is to the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">model. Most GUIs, for example, combine view and controller behavior. They tend to be separated</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">only when the application demands multiple views of the model.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:389pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Under Unix, application of the model/view/controller pattern is far more common than elsewhere</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">precisely because there is a strong &#x201c;do one thing well&#x201d; tradition, and IPC methods are both easy and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#xfb02;exible.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:435pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">An especially powerful form of this technique couples a policy interface (often a GUI combining</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:446pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">view and controller functions) with an engine (model) that contains an interpreter for a domain-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:458pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">speci&#xfb01;c minilanguage.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:458pt;left:170pt"><span style="font-family:Times,serif;font-size:9.963pt">We examined this pattern in Chapter 8, focusing on minilanguage design;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:470pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">now it&#x2019;s time to look at the different ways that such engines can form components of larger systems</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:482pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of code.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:504pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">There are several major variants of this pattern.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:526pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Con&#xfb01;gurator/Actor Pair</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">311</span></p>
</div>
