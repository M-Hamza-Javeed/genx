<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:222pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 13. Complexity</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">on implementation complexity and codebase size. But those sorts of arguments against complexity</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">are relatively easy to win; the dif&#xfb01;cult ones begin when these three measures have to be traded off</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">against each other.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:145pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">We&#x2019;ve already mentioned one situation in which two measures vary in opposite directions: a user</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:157pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">interface that has been designed primarily to preserve implementation simplicity, or keep codebase</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:169pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">size down, may simply dump low-level tasks on the user.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:169pt;left:330pt"><span style="font-family:Times,serif;font-size:9.963pt">(A crude example of this, barely</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">imaginable to a Unix programmer but all too common elsewhere, might be an editor that lacked a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">global-replace feature.) Though this sort of design failure is all too common, it does not traditionally</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">have a name. We&#x2019;ll call it a</span><i><span style="font-family:Times,serif;font-size:9.963pt"> manularity trap</span></i><span style="font-family:Times,serif;font-size:9.963pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:226pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Pressure to keep the codebase size down by using extremely dense and complicated implementation</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:238pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">techniques can cause a cascade of implementation complexity in the system, leading to an un-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:250pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">debuggable mess.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:250pt;left:151pt"><span style="font-family:Times,serif;font-size:9.963pt">This used to happen frequently when &#xfb01;tting programs onto very small systems</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:262pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">demanded assembler programming or tricks like self-modifying code; nowadays it is uncommon</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:274pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">except in embedded systems, and rapidly becoming rare even there.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:274pt;left:359pt"><span style="font-family:Times,serif;font-size:9.963pt">This kind of design failure</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:286pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">doesn&#x2019;t have a traditional name, but one might call it a</span><i><span style="font-family:Times,serif;font-size:9.963pt"> blivet trap</span></i><span style="font-family:Times,serif;font-size:9.963pt">, after an old Army term for the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:298pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">results of attempting to stuff ten pounds of horse manure into a &#xfb01;ve-pound bag.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:319pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The blivet trap won&#x2019;t appear in our case studies, but we&#x2019;ve de&#xfb01;ned it for contrast with its opposite. It</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:331pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">can happen that the designers of a project are so wary of implementation complexity that they reject</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:343pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a complex but uni&#xfb01;ed way to solve a whole class of problems in favor of lots of duplicative, ad-hoc</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">code that solves each individual one in turn. The result is bloat in the size of the codebase, and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">maintainability problems more severe than if the uni&#xfb01;ed method had been accepted. For example, a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:379pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Web project that really needs a centralized relational database behind its pages might instead spawn</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:391pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">several different keyed data &#xfb01;les containing information that has to be reintegrated at page generation</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">time.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:101pt"><span style="font-family:Times,serif;font-size:9.963pt">This sort of failure is all too common.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:266pt"><span style="font-family:Times,serif;font-size:9.963pt">It doesn&#x2019;t have a traditional name; we&#x2019;ll call it an</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:415pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">adhocity trap</span></i><span style="font-family:Times,serif;font-size:9.963pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:436pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">These are the three faces of complexity, and some of the traps designers fall into in attempts to avoid</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:444pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">them.</span><sup><span style="font-family:Times,serif;font-size:6.273pt">114</span></sup><sup><span style="font-family:Times,serif;font-size:9.963pt"> </span></sup><span style="font-family:Times,serif;font-size:9.963pt">We&#x2019;ll see more examples when we get to the case studies later in the chapter.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:469pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Tradeoffs between Interface and Implementation Complexity</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:495pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">One of the most perceptive observations ever made about the Unix tradition by someone standing</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:507pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">outside it was contained in Richard Gabriel&#x2019;s paper called</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Lisp: Good News, Bad News, and How to</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:526pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">114</span><span style="font-family:Times,serif;font-size:7.97pt">The terms we have invented for these design traps, unlikely as they may sound, come from established hacker jargon</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">described in [Raymond96].</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">337</span></p>
</div>
