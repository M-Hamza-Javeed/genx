<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:468pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Chapter 5</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 87 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Quite simple! There are a number of options that modify the routes to get  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:127pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the expected result. For example, you can use &quot;splats&quot; or optional parts  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:140pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">in a route; for a detailed overview of routes, refer to the Backbone.js API  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:153pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">at </span><span style="font-family:CourierStd,serif;font-size:9.5pt">http://backbonejs.org/#Router</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:172pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">In the preceding example, all the show methods (</span><span style="font-family:CourierStd,serif;font-size:9.5pt">showUsers()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:185pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">showUserDetails()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">) will most likely create the view instances, send AJAX requests </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:198pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">to the server to get their details, and then show the views in the DOM. Similarly, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:210pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the update and delete methods will also send requests to the server for the desired </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:223pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">actions to be taken. Now, assume the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">User</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> module has multiple other methods in </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:235pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">this router along with these CRUD methods. In addition, the entire application has </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:248pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">a number of similar modules whose routes will also get added to this router. As a </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">result, the router will soon become a gigantic one with hundreds of lines of code; this </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">is something that is beyond our control.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:293pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">We should take care of a few things while working with routers and avoid such </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:306pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">situations. We will look at some good practices in the following section that will </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:318pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">make our routers simple, flexible, and easy-to-maintain.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:352pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:20pt">Best practices for working with routers</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:376pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Working with a Backbone router is fairly easy when the application is of a small size. </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">However, as the complexity increases, maintaining a router becomes difficult unless </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">some rules are followed. In the following section, we will discuss some points that </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">you should take care of while using routers.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:444pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">Avoiding large functional code in route </span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:466pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">methods</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:488pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Though the basic task of a router is to monitor the routes and trigger functions, it </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:501pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">manages some business logics of the app too. In an MVC architecture, the task of a </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:513pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">controller is to handle the data request that is sent from the client and work upon </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:526pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the data that comes from the server in response. Similarly for a router, since the URL </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:538pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">fragments reflect some part of the application&apos;s data, the data communication, calling </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:551pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">view methods, or updating model attributes are done using router methods.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:571pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">A trend I often see in beginner-level developer code is that they frequently include a </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:583pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">large chunk of functional code inside the router methods. On one hand, this increases </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:596pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the size of the router, and on the other hand, it complicates the logic. It is always </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:609pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">advisable to keep your router methods as short as possible by pushing the functional </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:621pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">logic in views and using events instead of callbacks. In the following section we will see </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:634pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">how we can keep our router clean. Also, we will look at event delegation, custom events, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:646pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">and callback methods in more detail in </span><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Chapter 6</span></i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Working with Events, Storage, and Sync</span></i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">.</span></p>
</div>
