<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:219pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 19. Open Source</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The right attitude is helpful, respectful of the maintainer&#x2019;s time, quietly con&#xfb01;dent but unassuming.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">It&#x2019;s good to display understanding of the code you&#x2019;re patching.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:342pt"><span style="font-family:Times,serif;font-size:9.963pt">It&#x2019;s good to show that you can</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">identify with the maintainer&#x2019;s problems. It&#x2019;s also good to be up front about any risks you perceive in</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">applying the patch. Here are some examples of the sorts of explanatory comments that experienced</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">developers send:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x201c;I&#x2019;ve seen two problems with this code, X and Y. I &#xfb01;xed problem X, but I didn&#x2019;t try addressing</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">problem Y because I don&#x2019;t think I understand the part of the code that I believe is involved&#x201d;.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x201c;Fixed a core dump that can happen when one of the foo inputs is too long.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:390pt"><span style="font-family:Times,serif;font-size:9.963pt">While I was at it, I</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">went looking for similar over&#xfb02;ows elsewhere. I found a possible one in blarg.c, near line 666. Are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">you sure the sender can&#x2019;t generate more than 80 characters per transmission?&#x201d;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:249pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x201c;Have you considered using the Foonly algorithm for this problem? There is a good implementation</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">at &lt;http://www.example.com/~jsmith/foonly.html&gt;&#x201d;.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:283pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x201c;This patch solves the immediate problem, but I realize it complicates the memory allocation in an</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:295pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">unpleasant way. Works for me, but you should probably test it under heavy load before shipping&#x201d;.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:317pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x201c;This may be featuritis, but I&#x2019;m sending it anyway. Maybe you&#x2019;ll know a cleaner way to implement</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:329pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the feature&#x201d;.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:351pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Do include useful comments in your code.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:375pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">A maintainer will want to have strong con&#xfb01;dence that he understands your changes before merging</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:387pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">them in. This isn&#x2019;t an invariable rule; if you have a track record of good work with the maintainer,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:399pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">he may just run a casual eye over the changes before checking them in semiautomatically.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:399pt;left:453pt"><span style="font-family:Times,serif;font-size:9.963pt">But</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:411pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">everything you can do to help him understand your code and decrease his uncertainty increases your</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:423pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">chances that your patch will be accepted.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:445pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Good comments in your code help the maintainer understand it. Bad comments don&#x2019;t.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:467pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Here&#x2019;s an example of a bad comment:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:500pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">/* norman newbie fixed this 13 Aug 2001 */</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">485</span></p>
</div>
