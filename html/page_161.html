<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:221pt;left:152pt"><span style="font-family:ArialMT,sans-serif;font-size:30pt">Organizing Templates with </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:257pt;left:235pt"><span style="font-family:ArialMT,sans-serif;font-size:30pt">AMD and Require.js</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:108pt"><b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Asynchronous Module Definition</span></b><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> (</span><b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">AMD</span></b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">)</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> is a JavaScript API used to define </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:321pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">modules and load module dependencies asynchronously. It is a fairly new yet </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:334pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">very robust concept that many developers are adopting nowadays. In </span><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Chapter 7</span></i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:347pt;left:107pt"><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Organizing Backbone Applications &#x2013; Structure, Optimize, and Deploy</span></i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, we covered AMD </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:359pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">with Require.js in detail. If you need more details on this library, we recommend you </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:372pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">visit </span><span style="font-family:CourierStd,serif;font-size:9.5pt">http://requirejs.org/</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> to get a complete overview and then come back to </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:384pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">this section.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:406pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">In general, Require.js </span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">treats every file&apos;s content as JavaScript. So, we cannot load our </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:418pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">template files, if they aren&apos;t JavaScript files, in the same manner as JavaScript files. </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:431pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Fortunately for templates, there is a </span><span style="font-family:CourierStd,serif;font-size:9.5pt">text</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> plugin that allows us to load text-based </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:443pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">dependencies. Any file that we load using this file will be treated as a text file and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:456pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the content that we receive will be a string; it can be used easily with your template </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:469pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">methods. To use this plugin, just prepend </span><span style="font-family:CourierStd,serif;font-size:9.5pt">text!</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> to the file path and the file contents </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:481pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">will be retrieved as plain text; to do this, follow this example:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:503pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// AMD Module definition with dependencies</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:515pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">define([</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:527pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    &apos;backbone&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:539pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    &apos;underscore&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:564pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    // text plugin that gets any file content as text</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:576pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    &apos;text!../templates/userLogin.html&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:588pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  ],</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:601pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  function (Backbone, _, userLoginTpl) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:613pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    &apos;use strict&apos;;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:637pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    var UserLogin = Backbone.View.extend({</span></p>
</div>
