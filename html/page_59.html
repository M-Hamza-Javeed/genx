<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:468pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Chapter 2</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 43 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:113pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:20pt">Using Marionette&apos;s ItemView, </span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:137pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:20pt">CollectionView, and CompositeView</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:161pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Marionette (</span><span style="font-family:CourierStd,serif;font-size:9.5pt">http://marionettejs.com/</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">) is a composite application library for </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:174pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Backbone.js. Developed by Derick Bailey, it is a collection of common patterns and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:186pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">solutions to Backbone problems. It is a great library and lots of developers use it for </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:199pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">their Backbone-based applications.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:220pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">One important thing about Marionette is that it offers several separate packages </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:233pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">for views, regions, and so on, and allows you to use any of them freely without </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:245pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">requiring the complete library. In this section, we will explore Marionette&apos;s </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:258pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">ItemView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">CollectionView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, and the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">CompositeView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> functionalities. These  </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:271pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">views solve a number of problems we discussed in the previous sections.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:301pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">ItemView</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:324pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">ItemView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> represents a single view for an item, it can be a model view or a collection </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:336pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">view. It extends the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Marionette.View</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> class, which is a core view with a number </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:349pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">of reusable functions. </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Marionette.View</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> takes care of triggering, delegating, and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:361pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">undelegating events.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:383pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">If you plan to use Marionette, views with a model or a collection should extend the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:395pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">ItemView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> class. It provides a number of functionalities including:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:416pt;left:125pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:416pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">A </span><span style="font-family:CourierStd,serif;font-size:9.5pt">serializeData()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method that is a generic method to return data for the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:429pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">model or collection that is attached to the view.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:446pt;left:125pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:446pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">A </span><span style="font-family:CourierStd,serif;font-size:9.5pt">close()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method that takes care of removing views from DOM and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:459pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">cleanup resources. This is similar to the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">close()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> method of the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">BaseView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:471pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">class we learned in </span><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Chapter 1</span></i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Reducing Boilerplate with Plugin Development</span></i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:488pt;left:125pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:488pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Some custom events such as:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:504pt;left:161pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span><span style="font-family:SymbolMT,sans-serif;font-size:10.5pt">&#xb0;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:505pt;left:179pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The </span><span style="font-family:CourierStd,serif;font-size:9.5pt">&apos;render&apos; / onRender</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> event</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:521pt;left:162pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span><span style="font-family:SymbolMT,sans-serif;font-size:10.5pt">&#xb0;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:522pt;left:179pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The </span><span style="font-family:CourierStd,serif;font-size:9.5pt">&apos;before:render&apos; / onBeforerender</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> event</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:538pt;left:162pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span><span style="font-family:SymbolMT,sans-serif;font-size:10.5pt">&#xb0;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:539pt;left:179pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The </span><span style="font-family:CourierStd,serif;font-size:9.5pt">&apos;close&apos; / onClose</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> event</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:555pt;left:161pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span><span style="font-family:SymbolMT,sans-serif;font-size:10.5pt">&#xb0;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:556pt;left:179pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The </span><span style="font-family:CourierStd,serif;font-size:9.5pt">&apos;before:close&apos; / onBeforeClose</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> event</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:577pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Let&apos;s look into a basic </span><span style="font-family:CourierStd,serif;font-size:9.5pt">ItemView</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> class definition as shown in the following code:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:598pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var UserItemView = Marionette.ItemView.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:611pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  tagName: &apos;li&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:623pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  template: _.template(&apos;&lt;%= firstName %&gt; &lt;%= lastName %&gt;&apos;),</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:647pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  onRender: function () {</span></p>
</div>
