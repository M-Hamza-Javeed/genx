<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:225pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 11. Interfaces</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">xcdroast</span></i><span style="font-family:Times,serif;font-size:9.963pt"> also calls other CLI tools: cdda2wav(1) (a sound &#xfb01;le converter) and mkisofs(1) (a tool for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">creating ISO-9660 CD-ROM &#xfb01;le system images from a list of &#xfb01;les). The details of how these tools</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">are invoked are hidden from the user, who can think in terms centered on the task of making CDs</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">rather than having to know directly about the arcana of sound-&#xfb01;le conversion or &#xfb01;le-system structure.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Equally important, the implementers of each of these tools can concentrate on their domain-speci&#xfb01;c</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:160pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">expertise without having to be user-interface experts.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">A key pitfall of driver/engine organization is that frequently the driver must</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">understand the state of the engine in order to re&#xfb02;ect it to the user.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:408pt"><span style="font-family:Times,serif;font-size:9.963pt">If the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">engine action is practically instantaneous, it&#x2019;s not a problem, but if the engine</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:217pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">can take a long time (e.g., when accessing many URLs) the lack of feedback can</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:229pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">be a signi&#xfb01;cant issue. A similar problem is responding to errors.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:229pt;left:379pt"><span style="font-family:Times,serif;font-size:9.963pt">For example,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:241pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">the traditional (although not very Unix-like) con&#xfb01;rmation question about whether</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:253pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">it&#x2019;s OK to overwrite a &#xfb01;le that already exists is kind of painful to write in the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:265pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">driver/engine world; the engine, which detects the problem, has to ask the driver</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:277pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">to do the con&#xfb01;rmation prompting.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:289pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:301pt;left:301pt"><span style="font-family:Times,serif;font-size:9.963pt;color:#ff0000">&lt;author&gt;SteveJohnson&lt;/author&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:323pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">It&#x2019;s important to design the engine so that it not only does the right thing, but also noti&#xfb01;es the driver</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:335pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">about what it&#x2019;s doing so the driver can present a graceful interface with appropriate feedback.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:357pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">The terms &#x201c;driver&#x201d; and &#x201c;engine&#x201d; are uncommon but established in the Unix community.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:379pt;left:71pt"><b><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">Client/Server Pair</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">A client/server pair is like a driver/engine pair, except that the engine part is a daemon running in</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:415pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">background which is not expected to be run interactively, and does not have its own user interface.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:427pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Usually, the daemon is designed to mediate access to some sort of shared resource &#x2014; a database, or</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:439pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">a transaction stream, or specialized shared hardware such as a sound device. Another reason for such</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:451pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">a daemon may be to avoid performing expensive startup actions each time the program is invoked.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:473pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Yesterday&#x2019;s paradigmatic example was the ftp(1)/ftpd(1) pair that implements FTP, the File Transfer</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:485pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Protocol; or perhaps two instances of sendmail(1), sender in foreground and listener in background,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:497pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">passing Internet email. Today&#x2019;s would have to be any browser/web server pair.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:519pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">However, this pattern is not limited to communication programs; another important case is in</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:531pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">databases, such as the psql(1)/postmaster(1) pair. In this one,</span><i><span style="font-family:Times,serif;font-size:9.963pt"> psql</span></i><span style="font-family:Times,serif;font-size:9.963pt"> serializes access to a shared</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">317</span></p>
</div>
