<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:225pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 1. Philosophy</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">We all know this is true (it&#x2019;s why we have compilers and interpreters, after all) but we often don&#x2019;t</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">think about the implications.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:198pt"><span style="font-family:Times,serif;font-size:9.963pt">High-level-language code that&#x2019;s repetitive and mind-numbing for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">humans to write is just as productive a target for a code generator as machine code. It pays to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">use code generators when they can raise the level of abstraction &#x2014; that is, when the speci&#xfb01;cation</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">language for the generator is simpler than the generated code, and the code doesn&#x2019;t have to be hand-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:160pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">hacked afterwards.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In the Unix tradition, code generators are heavily used to automate error-prone detail work.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Parser/lexer generators are the classic examples; make&#xfb01;le generators and GUI interface builders</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">are newer ones.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">(We cover these techniques in Chapter 9.)</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:250pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Rule of Optimization: Prototype before polishing.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:250pt;left:429pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Get it</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:266pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">working before you optimize it.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:293pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The most basic argument for prototyping &#xfb01;rst is Kernighan &amp; Plauger&#x2019;s; &#x201c;90% of the functionality</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:305pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">delivered now is better than 100% of it delivered never&#x201d;. Prototyping &#xfb01;rst may help keep you from</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:317pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">investing far too much time for marginal gains.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:338pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">For slightly different reasons, Donald Knuth (author of</span><i><span style="font-family:Times,serif;font-size:9.963pt"> The Art Of Computer Programming</span></i><span style="font-family:Times,serif;font-size:9.963pt">, one of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:350pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the &#xfb01;eld&#x2019;s few true classics) popularized the observation that &#x201c;Premature optimization is the root of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:359pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">all evil&#x201d;.</span><sup><span style="font-family:Times,serif;font-size:6.273pt">11</span></sup><sup><span style="font-family:Times,serif;font-size:9.963pt"> </span></sup><span style="font-family:Times,serif;font-size:9.963pt">And he was right.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:384pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Rushing to optimize before the bottlenecks are known may be the only error to have ruined more</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:396pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">designs than feature creep. From tortured code to incomprehensible data layouts, the results of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:408pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">obsessing about speed or memory or disk usage at the expense of transparency and simplicity are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:420pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">everywhere. They spawn innumerable bugs and cost millions of man-hours &#x2014; often, just to get</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:432pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">marginal gains in the use of some resource much less expensive than debugging time.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:454pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Disturbingly often, premature local optimization actually hinders global optimization (and hence</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:466pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">reduces overall performance). A prematurely optimized portion of a design frequently interferes</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:478pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">with changes that would have much higher payoffs across the whole design, so you end up with</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:490pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">both inferior performance and excessively complex code.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:510pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">11</span><span style="font-family:Times,serif;font-size:7.97pt">In full: &#x201c;We should forget about small ef&#xfb01;ciencies, say about 97% of the time: premature optimization is the root of all</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:519pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">evil&#x201d;. Knuth himself attributes the remark to C. A. R. Hoare.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:265pt"><span style="font-family:Times,serif;font-size:9.963pt">46</span></p>
</div>
