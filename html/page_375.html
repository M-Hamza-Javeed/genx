<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:223pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 14. Languages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Tcl (Tool Command Language) is a small language interpreter designed to link with compiled</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">C libraries, providing scripted control of C code (</span><i><span style="font-family:Times,serif;font-size:9.963pt">extended scripts</span></i><span style="font-family:Times,serif;font-size:9.963pt">).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:357pt"><span style="font-family:Times,serif;font-size:9.963pt">Its original application was</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to control libraries for electronic simulators (SPICE-like applications).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:372pt"><span style="font-family:Times,serif;font-size:9.963pt">Tcl is also suitable for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">embedded scripts</span></i><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;that is, scripts called from within C programs and returning values to those</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">programs. Tcl had its &#xfb01;rst general public release in 1990.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Some facilities built on top of Tcl have achieved wide use outside the Tcl community itself. The</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">two most important of these are:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; The Tk toolkit, a kinder and gentler X interface that makes it easy to rapidly build buttons, dialog</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">boxes, menu trees, and scrolling text widgets and collect input from them.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:249pt;left:81pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2022; Expect, a language that makes it relatively easy to script fully interactive programs with widely</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:86pt"><span style="font-family:Times,serif;font-size:9.963pt">variable responses.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The Tk toolkit is so important that the language is often referred to as Tcl/Tk. Tk is also frequently</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">used with Perl and Python.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:319pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The main advantage of Tcl itself is that it is extremely &#xfb02;exible and radically simple. The syntax</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:331pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">is very odd (based on a positional parser) but totally consistent. There are no reserved words, and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:343pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">there is no syntactic distinction between a function call and &#x2018;built in&#x2019; syntax; thus the Tcl language</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">interpreter itself can be effectively rede&#xfb01;ned from within Tcl (which is what makes projects like</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">Expect</span></i><span style="font-family:Times,serif;font-size:9.963pt"> reasonable).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:389pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The main drawback of Tcl is that the pure language has only weak facilities for namespace control</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and modularity, and two of them (</span><b><span style="font-family:Times,serif;font-size:9.963pt">upvar</span></b><span style="font-family:Times,serif;font-size:9.963pt"> and</span><b><span style="font-family:Times,serif;font-size:9.963pt"> uplevel</span></b><span style="font-family:Times,serif;font-size:9.963pt">) are rather dangerous if not used with great</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">caution. Also, there are no data structures other than association lists. Tcl therefore scales up very</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:425pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">poorly &#x2014; it is dif&#xfb01;cult to organize and debug pure Tcl programs of even moderate size (more than</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:437pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a few hundred lines) without tripping over your own feet. In practice, almost all large Tcl programs</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:448pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">use one of several OO extensions to the language.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:470pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The oddities of the syntax can at &#xfb01;rst be a problem as well; the distinction between string quotes</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:482pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and braces will probably give you headaches for a while, and the rules for when things need to be</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:494pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">quoted or braced are a bit tricky.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:516pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Pure Tcl only provides access to a relatively small and commonly used part of the Unix API</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:528pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">(essentially just &#xfb01;le handling, process-spawning, and sockets). Indeed, Tcl has the &#xfb02;avor of an</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">374</span></p>
</div>
