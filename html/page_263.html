<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:225pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 9. Generation</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">screen at will without touching the C code at all, and the right thing would automatically happen on</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the next build.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">For similar reasons, the initializer that holds the name synonym strings is also generated via a</span><i><span style="font-family:Times,serif;font-size:9.963pt"> sed</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">script in the make&#xfb01;le, from a &#xfb01;le called</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> nametable</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> in the</span><i><span style="font-family:Times,serif;font-size:9.963pt"> ascii</span></i><span style="font-family:Times,serif;font-size:9.963pt"> source distribution.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:435pt"><span style="font-family:Times,serif;font-size:9.963pt">Most of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">nametable</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> is simply copied into the C initializer. But the generation process would make it easy</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to adapt this tool for other 8-bit character sets such as the ISO-8859 series (Latin-1 and friends).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:191pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">This is an almost trivial example, but it nevertheless illustrates the advantages of even simple and ad-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">hoc code generation. Similar techniques could be applied to larger programs with correspondingly</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">greater bene&#xfb01;ts.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:238pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Case Study: Generating HTML Code for a Tabular List</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:264pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Let&#x2019;s suppose that we want to put a page of tabular data on a Web page. We want the &#xfb01;rst few lines</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:276pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to look like Example 9.6.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:298pt;left:72pt"><b><span style="font-family:Times,serif;font-size:11.955pt">Example 9.6. Desired output format for the star table.</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:334pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Aalat</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:334pt;left:133pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">David Weber</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:334pt;left:240pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">The Armageddon Inheritance</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Aelmos</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:134pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Alan Dean Foster</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:248pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">The Man who Used the Universe</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Aedryr</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:134pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Steve Miller/Sharon Lee Scout&#x2019;s Progress</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:366pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Aergistal</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:366pt;left:139pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Gerard Klein</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:366pt;left:248pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">The Overlords of War</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:377pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Afdiar</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:377pt;left:134pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">L. Neil Smith</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:377pt;left:243pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Tom Paine Maru</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Agandar</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:136pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Donald Kingsbury</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:251pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Psychohistorical Crisis</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:398pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Aghirnamirr</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:398pt;left:142pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Jo Clayton</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:398pt;left:248pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Shadowkill</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:429pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The thick-as-a-plank way to handle this would be to hand-write HTML table code for the desired</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:441pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">appearance.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:441pt;left:127pt"><span style="font-family:Times,serif;font-size:9.963pt">Then, each time we want to add a name, we&#x2019;d have to hand-write another set of &lt;tr&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:453pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and &lt;td&gt; tags for the entry. This would get very tedious very quickly. But what&#x2019;s worse, changing</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:465pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the format of the list would require hand-hacking every entry.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:487pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The super&#xfb01;cially clever way to handle this would be to make this data a three-column relation in a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:495pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">database, then use some fancy CGI</span><sup><span style="font-family:Times,serif;font-size:6.273pt">99</span></sup><sup><span style="font-family:Times,serif;font-size:9.963pt"> </span></sup><span style="font-family:Times,serif;font-size:9.963pt">technique or a database-capable templating engine like PHP to</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:511pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">generate the page on the &#xfb02;y.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:511pt;left:195pt"><span style="font-family:Times,serif;font-size:9.963pt">But suppose we know that the list will not change very often, don&#x2019;t</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:530pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">99</span><span style="font-family:Times,serif;font-size:7.97pt">Here, CGI refers not to Computer Graphic Inagery but to the Common Gateway Interface used for live Web content.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">262</span></p>
</div>
