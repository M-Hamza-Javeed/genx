<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:218pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 8. Minilanguages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">typesetting languages are imperative languages with a lot of special-purpose domain expertise baked</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">into them.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Some task-speci&#xfb01;c imperative minilanguages start to border on being general-purpose interpreters.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">They reach this level when they are explicitly</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Turing-complete</span></i><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;that is, they can do both condition-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:154pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">als and loops (or recursion)</span><sup><span style="font-family:Times,serif;font-size:6.273pt">80</span></sup><sup><span style="font-family:Times,serif;font-size:9.963pt"> </span></sup><span style="font-family:Times,serif;font-size:9.963pt">with features that are designed to be used as control structures. Some</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">languages, by contrast, are only accidentally Turing-complete &#x2014; they have features that can be used</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to implement control structures as a sort of side effect of what they are actually designed to do.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The bc(1) and dc(1) interpreters we looked at in Chapter 7 are good examples of specialized</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">imperative minilanguages that are explicitly Turing-complete.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:237pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">We are over the border into general-purpose interpreters when we reach languages like Emacs</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:249pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Lisp and JavaScript that are designed to be full programming languages run in specialized contexts.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">We&#x2019;ll have more to say about these when we discuss embedded scripting languages later on.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:283pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The spectrum in interpreters is one of increasing generality; the &#xfb02;ip side of this is that a more</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:295pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">general-purpose interpreter embodies fewer assumptions about the context in which it runs.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:295pt;left:448pt"><span style="font-family:Times,serif;font-size:9.963pt">With</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:307pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">increasing generality there usually comes a richer ontology of data types.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:307pt;left:390pt"><span style="font-family:Times,serif;font-size:9.963pt">Shell and Tcl have</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:319pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">relatively simple ontologies; Perl, Python, and Java more complex ones.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:319pt;left:383pt"><span style="font-family:Times,serif;font-size:9.963pt">We&#x2019;ll return to these</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:331pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">general-purpose languages in Chapter 14.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:353pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:15.94pt">Applying Minilanguages</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:382pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Designing with minilanguages involves two distinct challenges. One is having existing minilan-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:394pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">guages handy in your toolkit, and recognizing when they can be applied as-is. The other is knowing</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:406pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">when it is appropriate to design a custom minilanguage for an application. To help you develop both</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:418pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">aspects of your design sense, about half of this chapter will consist of case studies.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:440pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Case Study:</span></b><b><i><span style="font-family:Helvetica,sans-serif;font-size:13.948pt"> sng</span></i></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:466pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In Chapter 6 we looked at sng(1), which translates between PNG and an editable all-text represen-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:478pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">tation of the same bits.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:478pt;left:172pt"><span style="font-family:Times,serif;font-size:9.963pt">The SNG data-&#xfb01;le format is worth reexamining for contrast here because</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:498pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">80</span><span style="font-family:Times,serif;font-size:7.97pt">Any Turing-complete language could theoretically be used for general-purpose programming, and is theoretically exactly</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:508pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">as powerful as any other Turing-complete language. In practice, some Turing-complete languages would be far too painful</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:517pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">to use for anything outside a speci&#xfb01;ed and narrow problem domain.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">219</span></p>
</div>
