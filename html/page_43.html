<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:468pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Chapter 2</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 27 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:114pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:18pt">Displaying model data with templates</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">This is the most important part as the main purpose of a view is to display the data </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">attached to it. In the simplest case, one Backbone view is attached to each model, and </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:161pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">it keeps itself updated with the model change:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:182pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var User = Backbone.Model.extend({});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:207pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// UserView definition</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:219pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var UserView = Backbone.View.extend({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:231pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// We will use Underscore template</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:244pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  template: _.template(&apos;Hello &lt;%= firstName %&gt; &lt;%=lastName %&gt;!&apos;),</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:268pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  render: function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:280pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    if (!this.model) {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:293pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">      throw &quot;Model is not set for this view&quot;;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:305pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:329pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    var html = this.template(this.model.toJSON());</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:341pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    this.$el.html(html);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:354pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    return this;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:366pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  }</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:378pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:400pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var userView = new UserView({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">// Set a model for this view</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:425pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  model: new User({</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:437pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    firstName: &apos;Payel&apos;,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:449pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">    lastName: &apos;Pal&apos;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:461pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  })</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:474pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:496pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">$(&apos;#container&apos;).append(userView.render().el);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:515pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">The preceding code is pretty simple to understand; here we pass a </span><span style="font-family:CourierStd,serif;font-size:9.5pt">model</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> instance to </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:528pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">the view and set the model value to the template inside the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">render()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> function. Once </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:540pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">rendered, the view will show the HTML markup with the model data.</span></p>
</div>
