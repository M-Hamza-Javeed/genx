<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:218pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 8. Minilanguages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Lisp modes (including a descendant of the famous ELIZA program that simulates a Rogersian</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">psychiatrist).</span><sup><span style="font-family:Times,serif;font-size:6.273pt">93</span></sup></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Case Study: JavaScript</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:160pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">JavaScript is an open-source language designed to be embedded in C programs. Though it is also</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:172pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">embedded in web servers, its original and best-known manifestation is client-side JavaScript, which</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:184pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">allows you to embed executable code in Web pages to be run by any JavaScript-capable browser.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:196pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">That is the version we will survey here.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:218pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">JavaScript is a fully Turing-complete interpreted language with integers, real numbers, booleans,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:230pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">strings, and lightweight dictionary-based objects resembling those of Python. Values are typed,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:242pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">but variables can hold any type; conversions between types are automatic in many contexts.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:254pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Syntactically JavaScript resembles Java with some in&#xfb02;uence from Perl, and features Perl-like regular</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:266pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">expressions.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:288pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Despite all these features, client-side JavaScript is not quite a general-purpose language.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:288pt;left:458pt"><span style="font-family:Times,serif;font-size:9.963pt">Its</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:300pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">capabilities are severely restricted to prevent attacks on the browser user through Web pages</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:312pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">containing JavaScript code.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:312pt;left:190pt"><span style="font-family:Times,serif;font-size:9.963pt">It can accept input from the user and generate or modify Web pages,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:324pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">but it cannot directly alter the contents of disk &#xfb01;les and cannot open its own network connections.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:346pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Over time, the JavaScript language has become more general and less bound to its client-side</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:358pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">environment.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:358pt;left:138pt"><span style="font-family:Times,serif;font-size:9.963pt">This is something that can be expected to happen to any successful specialized</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:370pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">language as its possibilities unfold in the minds of developers and users.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:370pt;left:379pt"><span style="font-family:Times,serif;font-size:9.963pt">Client JavaScript now</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:382pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">interacts with its environment by reading and writing values in a single special object called the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:393pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">browser DOM (Document Object Model). The language still has some legacy APIs to the browser</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:405pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">that don&#x2019;t go through the DOM, but these are deprecated, not present in the ECMA-262 standard for</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:417pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">JavaScript, and may not be supported in future versions.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:439pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The standard reference for JavaScript is</span><i><span style="font-family:Times,serif;font-size:9.963pt"> JavaScript: The De&#xfb01;nitive Guide</span></i><span style="font-family:Times,serif;font-size:9.963pt"> [FlanaganJavaScript].</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:447pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Source code is downloadable.</span><sup><span style="font-family:Times,serif;font-size:6.273pt">94</span></sup><sup><span style="font-family:Times,serif;font-size:9.963pt"> </span></sup><span style="font-family:Times,serif;font-size:9.963pt">JavaScript makes an interesting study for two reasons. First, it&#x2019;s</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:463pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">about as close to being a general-purpose language as one can get without actually being there.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:475pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Second, the binding between client-side JavaScript and its browser environment via a single DOM</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:487pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">object is well designed, and could serve as a model for other embedding situations.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:517pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">93</span><span style="font-family:Times,serif;font-size:7.97pt">One of the silliest things you can do with a modern Unix machine is run the Eliza mode of Emacs against random quotes</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:526pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">from Zippy the Pinhead.</span><b><span style="font-family:Times,serif;font-size:7.97pt"> M-x psychoanalyze-pinhead</span></b><span style="font-family:Times,serif;font-size:7.97pt">; type control-G when you&#x2019;ve had enough.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:535pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">94</span><span style="font-family:Times,serif;font-size:7.97pt">Open-source JavaScript implementations in C and Java are available [http://www.mozilla.org/js/].</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">241</span></p>
</div>
