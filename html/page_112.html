<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:108pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Working with Events, Sync, and Storage</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:295pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 96 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:126pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:115pt;left:143pt"><b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Event dispatcher</span></b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">: Sometimes, we seek an application-level event manager </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:127pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">that can work as the centralized tool for event-based communication. </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:140pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Different components of the application can interact with each other via this </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:153pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">event manager, without directly communicating among themselves. In this </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:165pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">section, we will learn how to create and use such an event dispatcher with </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:178pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">our application.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:195pt;left:125pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:195pt;left:143pt"><b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Method overriding</span></b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">: In this topic, we will learn how overriding the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">sync()</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:207pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">method of Backbone lets us create different persistent strategies for public </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:220pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">REST APIs or </span><span style="font-family:CourierStd,serif;font-size:9.5pt">LocalStorage</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:237pt;left:126pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">&#x2022; </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:237pt;left:144pt"><b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Offline storage</span></b><span style="font-family:BookAntiqua,serif;font-size:10.5pt">: The </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Backbone.LocalStorage</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> adapter can be used with any </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:249pt;left:143pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Backbone model or collection to save the data onto a </span><span style="font-family:CourierStd,serif;font-size:9.5pt">LocalStorage</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> database.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:283pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:20pt">Understanding custom events</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:307pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Creating and using custom events are not a big deal in JavaScript&#x2014;all of the major </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:320pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">JavaScript libraries heavily depend on their own events to make their components </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:332pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">loosely coupled. Each component possesses a set of custom events for better </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:345pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">reusability and integration with the application.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:366pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Creating a custom event in Backbone is quite simple&#x2014;any object that extends the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:379pt;left:108pt"><span style="font-family:CourierStd,serif;font-size:9.5pt">Backbone.Events</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> class gets all of the event-related functionality, that is, listening to, </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:391pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">triggering, and removing events. Backbone&apos;s </span><span style="font-family:CourierStd,serif;font-size:9.5pt">View</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Model</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Collection</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, and </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Router</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:404pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">are the major components that extend the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Backbone.Events</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> class</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt">, and you can fire a </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:416pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">custom event on any one of them when needed:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:438pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">var myView = new Backbone.View();</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:450pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">myView.on(&apos;myevent&apos;, function () {</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:462pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">  console.log(&apos;&quot;myevent&quot; is fired&apos;);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:475pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">});</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:499pt;left:126pt"><span style="font-family:CourierStd,serif;font-size:9pt">myView.trigger(&apos;myevent&apos;);</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:518pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Here we create a Backbone view instance, register a custom event to it, and fire the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:531pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">event. Once the event is fired, the registered function runs immediately as expected.</span></p>
</div>
