<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:217pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 10. Con&#xfb01;guration</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">user&#x2019;s home directory; but it would be unsurprising if the locations were</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> /etc/seekstuffrc</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">.seekstuffrc</span></tt><span style="font-family:Times,serif;font-size:9.963pt">, especially if seekstuff were a system utility of some sort.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In Chapter 5 we described a somewhat different set of design rules for textual data-&#xfb01;le formats, and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">discussed how to optimize for different weightings of interoperability, transparency and transaction</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">economy. Run-control &#xfb01;les are typically only read once at program startup and not written; economy</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">is therefore usually not a major concern. Interoperability and transparency both push us toward</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">textual formats designed to be read by human beings and modi&#xfb01;ed with an ordinary text editor.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">While the semantics of run-control &#xfb01;les are of course completely program dependent, there are some</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">design rules about run-control syntax that are widely observed. We&#x2019;ll describe those next; but &#xfb01;rst</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">we&#x2019;ll describe an important exception.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:249pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">If the program is an interpreter for a language, then it is expected to be simply a &#xfb01;le of commands</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">in the syntax of that language, to be executed at startup. This is an important rule, because Unix</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">tradition strongly encourages the design of all kinds of programs as special-purpose languages and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">minilanguages. Well-known examples with dot&#xfb01;les of this kind include the various Unix command</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">shells and the</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Emacs</span></i><span style="font-family:Times,serif;font-size:9.963pt"> programmable editor.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:319pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">(One reason for this design rule is the belief that special cases are bad news &#x2014; thus, that any switch</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:331pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">that changes the behavior of a language should be settable from within the language. If as a language</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:343pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">designer you &#xfb01;nd that you</span><i><span style="font-family:Times,serif;font-size:9.963pt"> cannot</span></i><span style="font-family:Times,serif;font-size:9.963pt"> express all the startup settings of a language in the the language</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">itself, a Unix programmer would say you have a design problem &#x2014; which is what you should be</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#xfb01;xing, rather than devising a special-case run-control syntax.)</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:389pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">This exception aside, here are the normal style rules for run-control syntaxes. Historically, they are</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">patterned on the syntax of Unix shells:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:435pt;left:82pt"><span style="font-family:Times,serif;font-size:9.963pt">1.</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Support explanatory comments, and lead them with</span></i><tt><i><span style="font-family:Courier,monospace;font-size:8.966pt"> #</span></i></tt><i><span style="font-family:Times,serif;font-size:9.963pt">.</span></i><span style="font-family:Times,serif;font-size:9.963pt"> The syntax should also ignore whites-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:446pt;left:91pt"><span style="font-family:Times,serif;font-size:9.963pt">pace before</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> #</span></tt><span style="font-family:Times,serif;font-size:9.963pt">, so that comments on the same line as con&#xfb01;guration directives are supported.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:468pt;left:82pt"><span style="font-family:Times,serif;font-size:9.963pt">2.</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Don&#x2019;t make insidious whitespace distinctions.</span></i><span style="font-family:Times,serif;font-size:9.963pt"> That is, treat runs of spaces and tabs, syntac-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:480pt;left:91pt"><span style="font-family:Times,serif;font-size:9.963pt">tically the same as a single space.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:480pt;left:241pt"><span style="font-family:Times,serif;font-size:9.963pt">If your directive format is line-oriented, it is good form</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:492pt;left:91pt"><span style="font-family:Times,serif;font-size:9.963pt">to ignore trailing spaces and tabs on lines.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:492pt;left:272pt"><span style="font-family:Times,serif;font-size:9.963pt">The metarule is that the interpretation of the &#xfb01;le</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:504pt;left:91pt"><span style="font-family:Times,serif;font-size:9.963pt">should not depend on distinctions a human eye can&#x2019;t see.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">269</span></p>
</div>
