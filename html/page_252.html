<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:225pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 9. Generation</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:96pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Case Study:</span></b><b><i><span style="font-family:Helvetica,sans-serif;font-size:13.948pt"> ascii</span></i></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:122pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">I maintain a program called</span><i><span style="font-family:Times,serif;font-size:9.963pt"> ascii</span></i><span style="font-family:Times,serif;font-size:9.963pt">, a very simple little utility that tries to interpret its command-line</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:134pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">arguments as names of ASCII (American Standard Code for Information Interchange) characters</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and report all the equivalent names.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:146pt;left:226pt"><span style="font-family:Times,serif;font-size:9.963pt">Code and documentation for the tool are available from the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">project page [http://www.catb.org/~esr/ascii]. Here is an illustrative screenshot:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:191pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">esr@snark:~/WWW/writings/taoup$ ascii 10</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:202pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">ASCII 1/0 is decimal 016, hex 10, octal 020, bits 00010000: called ^P, DLE</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:213pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Official name: Data Link Escape</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:234pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">ASCII 0/10 is decimal 010, hex 0a, octal 012, bits 00001010: called ^J, LF,</span></tt><i><span style="font-family:CMSY9,serif;font-size:8.966pt">&#x2190;</span></i><i><span style="font-family:CMMI9,serif;font-size:8.966pt">&#xfffd;</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:245pt;left:71pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">NL</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:256pt;left:71pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Official name: Line Feed</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:267pt;left:71pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">C escape: &#x2019;\n&#x2019;</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:277pt;left:71pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Other names: Newline</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:299pt;left:71pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">ASCII 0/8 is decimal 008, hex 08, octal 010, bits 00001000: called ^H, BS</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:310pt;left:71pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Official name: Backspace</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:320pt;left:71pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">C escape: &#x2019;\b&#x2019;</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:331pt;left:71pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Other names:</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:353pt;left:71pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">ASCII 0/2 is decimal 002, hex 02, octal 002, bits 00000010: called ^B, STX</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:364pt;left:71pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">Official name: Start of Text</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:394pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">One indication that this program was a good idea is the fact that it has an unexpected use &#x2014; as a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:406pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">quick CLI aid to converting between decimal, hex, octal, and binary representations of bytes.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:428pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">The main logic of this program could have been coded as a 128-branch case statement. This would,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:440pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">however, have made the code bulky and dif&#xfb01;cult to maintain. It would also have tangled parts that</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:452pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">change relatively rapidly (like the list of slang names for characters) with parts that change slowly</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:464pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">or not at all (like the of&#xfb01;cial names), putting them both in the same legend string and making errors</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:476pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">during editing much more likely to touch data that ought to be stable.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:498pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">Instead, we apply data-driven programming. All the character name strings live in a table structure</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:510pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">that is quite a bit larger than any of the functions in the code (indeed, counted in lines it is larger</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">251</span></p>
</div>
