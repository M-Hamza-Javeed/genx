<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:234pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 15. Tools</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">using an arena-based allocator, so the nodes don&#x2019;t leak, but there is a logical leak</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">anyway that needs to be thought about to make industrial-strength error recovery.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:301pt"><span style="font-family:Times,serif;font-size:9.963pt;color:#ff0000">&lt;author&gt;SteveJohnson&lt;/author&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:71pt"><i><span style="font-family:Times,serif;font-size:9.963pt">lex</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is a lexical analyzer generator. It&#x2019;s a member of the same functional family as grep(1) and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:170pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">awk(1), but more powerful because it enables you to arrange for arbitrary C code to be executed on</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:181pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">each match. It accepts a declarative minilanguage and emits skeleton C code.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">A crude but useful way to think about what a</span><i><span style="font-family:Times,serif;font-size:9.963pt"> lex</span></i><span style="font-family:Times,serif;font-size:9.963pt">-generated tokenizer does is as a sort of inverse</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">grep(1). Where grep(1) takes a single regular expression and returns a list of matches in the incoming</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">data stream, each call to a</span><i><span style="font-family:Times,serif;font-size:9.963pt"> lex</span></i><span style="font-family:Times,serif;font-size:9.963pt">-generated tokenizer takes a list of regular expressions and indicates</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">which expression occurs next in the datastream.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">Splitting input analysis into tokenizing input and parsing the token stream is a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:273pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">useful tactic even if you&#x2019;re not using Yacc and Lex and your &#x201c;tokens&#x201d; are nothing</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:285pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">like the usual ones in a compiler. More than once I&#x2019;ve found that splitting input</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:297pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">handling into two levels made the code much simpler and easier to understand,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">despite the complexity added by the split itself.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:321pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:333pt;left:298pt"><span style="font-family:Times,serif;font-size:9.963pt;color:#ff0000">&lt;author&gt;HenrySpencer&lt;/author&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:71pt"><i><span style="font-family:Times,serif;font-size:9.963pt">lex</span></i><span style="font-family:Times,serif;font-size:9.963pt"> was written to automate the task of generating lexical analyzers (tokenizers) for compilers.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:355pt;left:461pt"><span style="font-family:Times,serif;font-size:9.963pt">It</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:367pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">turned out to have a surprisingly wide range of uses for other kinds of pattern recognition, and has</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:379pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">since been described as &#x201c;the Swiss-army knife of Unix programming&#x201d;.</span><sup><span style="font-family:Times,serif;font-size:6.273pt">130</span></sup></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">If you are attacking any kind of pattern-recognition or state-machine problem in which all the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">possible input stimuli will &#xfb01;t in a byte,</span><i><span style="font-family:Times,serif;font-size:9.963pt"> lex</span></i><span style="font-family:Times,serif;font-size:9.963pt"> may enable you to generate code that will be more</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:425pt;left:71pt"><span style="font-family:Times,serif;font-size:9.963pt">ef&#xfb01;cient and reliable than a hand-crafted state machine.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:446pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">John Jarvis at Holmdel [an AT&amp;T laboratory] used</span><i><span style="font-family:Times,serif;font-size:9.963pt"> lex</span></i><span style="font-family:Times,serif;font-size:9.963pt"> to &#xfb01;nd faults in circuit</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:458pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">boards, by scanning the board, using a chain-encoding technique to represent the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:470pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">edges of areas on the board, and then using Lex to de&#xfb01;ne patterns that would catch</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:482pt;left:107pt"><span style="font-family:Times,serif;font-size:9.963pt">common fabrication errors.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:494pt;left:422pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:506pt;left:315pt"><span style="font-family:Times,serif;font-size:9.963pt;color:#ff0000">&lt;author&gt;MikeLesk&lt;/author&gt;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:524pt;left:71pt"><span style="font-family:Times,serif;font-size:5.018pt">130</span><span style="font-family:Times,serif;font-size:7.97pt">The common latter-day description of Perl as a &#x201c;Swiss-army chainsaw&#x201d; is derivative.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">393</span></p>
</div>
