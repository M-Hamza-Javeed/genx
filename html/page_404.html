<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:234pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 15. Tools</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">compilation uses a rules &#xfb01;le which is system-speci&#xfb01;c and includes a lot of information about the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">local environment.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:133pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">Imake</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is well suited to X&#x2019;s particular portability and con&#xfb01;guration challenges and universally used</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:145pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">in projects that are part of the X distribution. However, it has not achieved much popularity outside</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:157pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the X developer community. It&#x2019;s hard to learn, hard to use, hard to extend, and produces generated</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:169pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">make&#xfb01;les of mind-numbing size and complexity.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:191pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Imake</span></i><span style="font-family:Times,serif;font-size:9.963pt"> tools will be available on any Unix that supports X, including Linux. There has been</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:203pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">one heroic effort [DuBois] to make the mysteries of</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Imake</span></i><span style="font-family:Times,serif;font-size:9.963pt"> comprehensible to non-X-programming</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:215pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">mortals. These are worth learning if you are going to do X programming.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:237pt;left:72pt"><b><i><span style="font-family:Helvetica,sans-serif;font-size:11.955pt">autoconf</span></i></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:261pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">autoconf</span></i><span style="font-family:Times,serif;font-size:9.963pt"> was written by people who had seen and rejected the</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Imake</span></i><span style="font-family:Times,serif;font-size:9.963pt"> approach. It generates per-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:272pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">project</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> configure</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> shellscripts that are like the old-fashioned custom script con&#xfb01;gurators. These</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:284pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">configure</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> scripts can generate make&#xfb01;les (among other things).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:306pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">Autoconf</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is focused on portability and does no built-in dependency derivation at all. Although it is</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:318pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">probably as complex as</span><i><span style="font-family:Times,serif;font-size:9.963pt"> Imake</span></i><span style="font-family:Times,serif;font-size:9.963pt">, it is much more &#xfb02;exible and easier to extend. Rather than relying on</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:330pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a per-system database of rules, it generates</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> configure</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> shell code that goes out and searches your</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:342pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">system for things.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:364pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Each</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> configure</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> shellscript is built from a per-project template that you have to write, called</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:376pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">configure.in</span></tt><span style="font-family:Times,serif;font-size:9.963pt">. Once generated, though, the</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> configure</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> script will be self-contained and can</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">con&#xfb01;gure your project on systems that don&#x2019;t carry autoconf(1) itself.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:409pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The</span><i><span style="font-family:Times,serif;font-size:9.963pt"> autoconf</span></i><span style="font-family:Times,serif;font-size:9.963pt"> approach to make&#xfb01;le generation is like imake&#x2019;s in that you start by writing a make&#xfb01;le</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:421pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">template for your project. But</span><i><span style="font-family:Times,serif;font-size:9.963pt"> autoconf</span></i><span style="font-family:Times,serif;font-size:9.963pt">&#x2019;s</span><tt><span style="font-family:Courier,monospace;font-size:8.966pt"> Makefile.in</span></tt><span style="font-family:Times,serif;font-size:9.963pt"> &#xfb01;les are basically just make&#xfb01;les with</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:433pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">placeholders in them for simple text substitution; there&#x2019;s no second notation to learn. If you want</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:445pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">dependency derivation, you must take explicit steps to call makedepend(1) or some similar tool &#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:457pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">or use automake(1).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:479pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">autoconf</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is documented by an on-line manual in the GNU</span><i><span style="font-family:Times,serif;font-size:9.963pt"> info</span></i><span style="font-family:Times,serif;font-size:9.963pt"> format. The source scripts of autoconf</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:491pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">are available from the FSF archive site, but are also preinstalled on many Unix and Linux versions.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:503pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">You should be able to browse this manual through your Emacs&#x2019;s help system.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:524pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Despite its lack of direct support for dependency derivation, and despite its generally ad-hoc</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:536pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">approach, in mid-2003</span><i><span style="font-family:Times,serif;font-size:9.963pt"> autoconf</span></i><span style="font-family:Times,serif;font-size:9.963pt"> is clearly the most popular of the make&#xfb01;le generators, and has</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">403</span></p>
</div>
