<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:229pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 3. Contrasts</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Unix has at least three levels of internal boundaries that guard against malicious users or buggy</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">programs. One is memory management; Unix uses its hardware&#x2019;s memory management unit (MMU)</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to ensure that separate processes are prevented from intruding on the others&#x2019; memory-address spaces.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">A second is the presence of true privilege groups for multiple users &#x2014; an ordinary (nonroot) user&#x2019;s</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">processes cannot alter or read another user&#x2019;s &#xfb01;les without permission.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:362pt"><span style="font-family:Times,serif;font-size:9.963pt">A third is the con&#xfb01;nement</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:160pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of security-critical functions to the smallest possible pieces of trusted code. Under Unix, even the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:172pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">shell (the system command interpreter) is not a privileged program.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The strength of an operating system&#x2019;s internal boundaries is not merely an abstract issue of design:</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">It has important practical consequences for the security of the system.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:227pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">To design the perfect anti-Unix, discard or bypass memory management so that a runaway process</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">can crash, subvert, or corrupt any running program. Have weak or nonexistent privilege groups, so</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:251pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">users can readily alter each others&#x2019; &#xfb01;les and the system&#x2019;s critical data (e.g., a macro virus, having</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:263pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">seized control of your word processor, can format your hard drive).</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:263pt;left:358pt"><span style="font-family:Times,serif;font-size:9.963pt">And trust large volumes of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:275pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">code, like the entire shell and GUI, so that any bug or successful attack on that code becomes a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:287pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">threat to the entire system.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:309pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">File Attributes and Record Structures</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:336pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Unix &#xfb01;les have neither record structure nor attributes.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:336pt;left:302pt"><span style="font-family:Times,serif;font-size:9.963pt">In some operating systems, &#xfb01;les have an</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:348pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">associated record structure; the operating system (or its service libraries) knows about &#xfb01;les with a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:360pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#xfb01;xed record length, or about text line termination and whether CR/LF is to be read as a single logical</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:372pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">character.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:393pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">In other operating systems, &#xfb01;les and directories can have name/attribute pairs associated with</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:405pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">them &#x2014; out-of-band data used (for example) to associate a document &#xfb01;le with an application that</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:417pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">understands it. (The classic Unix way to handle these associations is to have applications recognize</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:429pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#x2018;magic numbers&#x2019;, or other type data within the &#xfb01;le itself.)</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:451pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">OS-level record structures are generally an optimization hack, and do little more than complicate</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:463pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">APIs and programmers&#x2019; lives. They encourage the use of opaque record-oriented &#xfb01;le formats that</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:475pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">generic tools like text editors cannot read properly.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:497pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">File attributes can be useful, but (as we will see in Chapter 20) can raise some awkward semantic</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:509pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">issues in a world of byte-stream-oriented tools and pipes.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:509pt;left:318pt"><span style="font-family:Times,serif;font-size:9.963pt">When &#xfb01;le attributes are supported at</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:521pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the operating-system level, they predispose programmers to use opaque formats and lean on the &#xfb01;le</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:533pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">attributes to tie them to the speci&#xfb01;c applications that interpret them.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:265pt"><span style="font-family:Times,serif;font-size:9.963pt">80</span></p>
</div>
