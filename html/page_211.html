<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:209pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 7. Multiprogramming</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Linux and other open-source Unixes have effectively discarded STREAMS. Linux kernel modules</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and libraries are available from the LiS [http://www.gcom.com/home/linux/lis/] project, but (as of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">mid-2003) are not integrated into the stock Linux kernel.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:311pt"><span style="font-family:Times,serif;font-size:9.963pt">They will not be supported under non-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Unix operating systems.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:158pt;left:72pt"><b><span style="font-family:Helvetica,sans-serif;font-size:13.948pt">Remote Procedure Calls</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:184pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Despite occasional exceptions such as NFS (Network File System) and the GNOME project,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:196pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">attempts to import CORBA, ASN.1, and other forms of remote-procedure-call interface have largely</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:208pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">failed &#x2014; these technologies have not been naturalized into the Unix culture.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:230pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">There seem to be several underlying reasons for this.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:230pt;left:297pt"><span style="font-family:Times,serif;font-size:9.963pt">One is that RPC interfaces are not readily</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:242pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">discoverable; that is, it is dif&#xfb01;cult to query these interfaces for their capabilities, and dif&#xfb01;cult</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:254pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to monitor them in action without building single-use tools as complex as the programs being</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:266pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">monitored (we examined some of the reasons for this in Chapter 6). They have the same version</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:278pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">skew problems as libraries, but those problems are harder to track because they&#x2019;re distributed and</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:290pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">not generally obvious at link time.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:312pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">As a related issue, interfaces that have richer type signatures also tend to be more complex, therefore</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:324pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">more brittle. Over time, they tend to succumb to ontology creep as the inventory of types that get</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:336pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">passed across interfaces grows steadily larger and the individual types more elaborate.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:336pt;left:430pt"><span style="font-family:Times,serif;font-size:9.963pt">Ontology</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:348pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">creep is a problem because structs are more likely to mismatch than strings; if the ontologies of the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:360pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">programs on each side don&#x2019;t exactly match, it can be very hard to teach them to communicate at all,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:372pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and &#xfb01;endishly dif&#xfb01;cult to resolve bugs. The most successful RPC applications, such as the Network</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:384pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">File System, are those in which the application domain naturally has only a few simple data types.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:405pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The usual argument for RPC is that it permits &#x201c;richer&#x201d; interfaces than methods like text streams &#x2014;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:417pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">that is, interfaces with a more elaborate and application-speci&#xfb01;c ontology of data types. But the Rule</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:429pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">of Simplicity applies! We observed in Chapter 4 that one of the functions of interfaces is as choke</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:441pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">points that prevent the implementation details of modules from leaking into each other. Therefore,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:453pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the main argument in favor of RPC is also an argument that it increases global complexity rather</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:465pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">than minimizing it.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:487pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">With classical RPC, it&#x2019;s too easy to do things in a complicated and obscure way instead of</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:499pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">keeping them simple.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:499pt;left:166pt"><span style="font-family:Times,serif;font-size:9.963pt">RPC seems to encourage the production of large, baroque, over-engineered</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:511pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">systems with obfuscated interfaces, high global complexity, and serious version-skew and reliability</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:523pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">problems &#x2014; a perfect example of thick glue layers run amok.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">210</span></p>
</div>
