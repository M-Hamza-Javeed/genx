<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:225pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 4. Modularity</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:100pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Thompson and Ritchie designed C to be a sort of structured assembler for an idealized processor</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:112pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and memory architecture that they expected could be ef&#xfb01;ciently modeled on most conventional</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">computers.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:124pt;left:134pt"><span style="font-family:Times,serif;font-size:9.963pt">By happy accident, their model for the idealized processor was the PDP-11, a</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:136pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">particularly mature and elegant minicomputer design that closely approximated Blaauw &amp; Brooks&#x2019;s</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">classical architecture.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:148pt;left:175pt"><span style="font-family:Times,serif;font-size:9.963pt">By good judgment, Thompson and Ritchie declined to wire into their</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:160pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">language most of the few traits (such as little-endian byte order) where the PDP-11 didn&#x2019;t match</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:172pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">it.</span><sup><span style="font-family:Times,serif;font-size:6.273pt">47</span></sup></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:193pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The PDP-11 became an important model for the following generations of microprocessor architec-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">tures.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:205pt;left:106pt"><span style="font-family:Times,serif;font-size:9.963pt">The basic abstractions of C turned out to capture the classical architecture rather neatly.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:217pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Thus, C started out as a good &#xfb01;t for microprocessors and, rather than becoming irrelevant as its</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:229pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">assumptions fell out of date, actually became a</span><i><span style="font-family:Times,serif;font-size:9.963pt"> better</span></i><span style="font-family:Times,serif;font-size:9.963pt"> &#xfb01;t as hardware converged more closely on the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:241pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">classical architecture. One notable example of this convergence was when Intel&#x2019;s 386, with its large</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:253pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">&#xfb02;at memory-address space, replaced the 286&#x2019;s awkward segmented-memory addressing after 1985;</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:265pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">pure C was actually a better &#xfb01;t for the 386 than it had been for the 286.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:286pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">It is not a coincidence that the experimental era in computer architectures ended in the mid-1980s at</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:298pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">the same time that C (and its close descendant C++) were sweeping all before them as general-</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:310pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">purpose programming languages.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:310pt;left:226pt"><span style="font-family:Times,serif;font-size:9.963pt">C, designed as a thin but &#xfb02;exible layer over the classical</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:322pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">architecture, looks with two decades&#x2019; additional perspective like almost the best possible design</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:334pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">for the structured-assembler niche it was intended to &#xfb01;ll. In addition to compactness, orthogonality,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:346pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">and detachment (from the machine architecture on which it was originally designed), it also has the</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:358pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">important quality of transparency that we will discuss in Chapter 6. The few language designs since</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:370pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">that are arguably better have needed to make large changes (like introducing garbage collection) in</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:382pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">order to get enough functional distance from C not to be swamped by it.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:403pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">This history is worth recalling and understanding because C shows us how powerful a clean,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:415pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">minimalist design can be. If Thompson and Ritchie had been less wise, they would have designed</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:427pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">a language that did much more, relied on stronger assumptions, never ported satisfactorily off its</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:439pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">original hardware platform, and withered away as the world changed out from under it.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:439pt;left:436pt"><span style="font-family:Times,serif;font-size:9.963pt">Instead,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:451pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">C has &#xfb02;ourished &#x2014; and the example Thompson and Ritchie set has in&#xfb02;uenced the style of Unix</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:463pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">development ever since.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:463pt;left:181pt"><span style="font-family:Times,serif;font-size:9.963pt">As the writer, adventurer, artist, and aeronautical engineer Antoine de</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:475pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Saint-Exup&#xe9;ry once put it, writing about the design of airplanes:</span><i><span style="font-family:Times,serif;font-size:9.963pt"> &#xab;La perfection est atteinte non</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:487pt;left:72pt"><i><span style="font-family:Times,serif;font-size:9.963pt">quand il ne reste rien &#xe0; ajouter, mais quand il ne reste rien &#xe0; enlever&#xbb;.</span></i><span style="font-family:Times,serif;font-size:9.963pt"> (&#x201c;Perfection is attained not</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:499pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">when there is nothing more to add, but when there is nothing more to remove&#x201d;.)</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:518pt;left:72pt"><span style="font-family:Times,serif;font-size:5.018pt">47</span><span style="font-family:Times,serif;font-size:7.97pt">The widespread belief that the autoincrement and autodecrement features entered C because they represented PDP-11</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:528pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">machine instructions is a myth. According to Dennis Ritchie, these operations were present in the ancestral B language</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:537pt;left:72pt"><span style="font-family:Times,serif;font-size:7.97pt">before the PDP-11 existed.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">123</span></p>
</div>
