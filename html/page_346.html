<div id="page0" style="position:relative;width:540pt;height:648pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:32pt;left:222pt"><span style="font-family:Times,serif;font-size:9.963pt">Chapter 13. Complexity</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:102pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt"># editing session.</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:113pt;left:72pt"><tt><span style="font-family:Courier,monospace;font-size:8.966pt">q</span></tt></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:143pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Unbelievable as it may seem to a modern reader, most of Unix&#x2019;s original code was written with this</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:155pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">editor.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:155pt;left:108pt"><span style="font-family:Times,serif;font-size:9.963pt">The reader with DOS experience may recognize here the original on which</span><i><span style="font-family:Times,serif;font-size:9.963pt"> EDLIN</span></i><span style="font-family:Times,serif;font-size:9.963pt"> was</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:167pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">(crudely) modeled.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:189pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">If one de&#xfb01;nes the job of an editor simply as enabling the user to create and modify plain text &#xfb01;les,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:201pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">ed(1) is entirely suf&#xfb01;cient for the job.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:201pt;left:230pt"><span style="font-family:Times,serif;font-size:9.963pt">Importantly to the Unix view of design correctness, it does</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:213pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">nothing else. Many old-school Unix programmers half-seriously maintain that all editors with more</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:225pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">features than ed has are simply bloated &#x2014; and a few still who seriously believe this.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:247pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Appropriately,</span><i><span style="font-family:Times,serif;font-size:9.963pt"> ed</span></i><span style="font-family:Times,serif;font-size:9.963pt"> was Ken Thompson&#x2019;s deliberate simpli&#xfb01;cation of the earlier</span><i><span style="font-family:Times,serif;font-size:9.963pt"> qed</span></i><span style="font-family:Times,serif;font-size:9.963pt">[RitchieQED]</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:259pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">editor &#x2014; which was very similar (and the &#xfb01;rst editor to use regular expressions in the characteristic</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:271pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Unix way) but had multiple-buffer capability that Ken deliberately discarded.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:271pt;left:400pt"><span style="font-family:Times,serif;font-size:9.963pt">He judged it not</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:283pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">worth the additional complexity.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:305pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">A notable characteristic of ed(1) and all its descendants is the object-operation format of its</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:317pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">commands (the session example shows an explicit range on the &#x2018;p&#x2019; command). There is a relatively</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:329pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">powerful syntax for specifying line ranges, either numerically, or by regular-expression pattern</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:340pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">match, or by special shorthands for the current and last line. Most editor operations can be applied</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:352pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">to any range. This is a good example of orthogonality.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:374pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">Nowadays, ed(1) is primarily used as a program-driven editing tool in scripts &#x2014; a role to which</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:386pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">editors with more elaborate modes of interactivity are unsuited. There is a close variant called ex(1)</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:398pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">which adds a few useful interactivity features such as command prompts; it is occasionally useful</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:410pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">in rare cases when editing must be done over a slow serial line, or in certain unusual crash-recovery</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:422pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">situations where the library support needed to run other editors is not accessible. For these reasons,</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:434pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">every Unix includes an</span><i><span style="font-family:Times,serif;font-size:9.963pt"> ed</span></i><span style="font-family:Times,serif;font-size:9.963pt"> implementation and most include</span><i><span style="font-family:Times,serif;font-size:9.963pt"> ex</span></i><span style="font-family:Times,serif;font-size:9.963pt"> as well.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:456pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">The sed(1) stream editor mentioned in Chapter 9 is also closely related to ed; many of the basic</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:468pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">commands are the same, though designed to be invoked through command-line switches rather than</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:480pt;left:72pt"><span style="font-family:Times,serif;font-size:9.963pt">from standard input.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:581pt;left:262pt"><span style="font-family:Times,serif;font-size:9.963pt">345</span></p>
</div>
