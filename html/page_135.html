<div id="page0" style="position:relative;width:612pt;height:792pt;background-color:white">
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:95pt;left:468pt"><i><span style="font-family:BookAntiqua,serif;font-size:9pt">Chapter 7</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:666pt;left:293pt"><b><span style="font-family:Arial,sans-serif;font-size:9pt">[</span></b><b><span style="font-family:Arial,sans-serif;font-size:8pt"> 119 </span></b><b><span style="font-family:Arial,sans-serif;font-size:9pt">]</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:121pt"><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">Publishes</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:209pt"><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">event</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:155pt"><i><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">login:signedin</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:213pt;left:149pt"><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">Login Module</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:214pt;left:282pt"><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">User Module</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:214pt;left:414pt"><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">Chat Module</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:253pt"><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">Subscribed to</span><i><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt"> login:signedin</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:248pt;left:253pt"><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">event</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:239pt;left:384pt"><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">Subscribed to</span><i><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt"> login:signedin</span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:248pt;left:384pt"><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">event</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:149pt;left:274pt"><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">Event Dispatcher</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:121pt;left:276pt"><span style="font-family:FranklinGothicITCbyBT,serif;font-size:7.9998pt">PubSub System</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:279pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">We mentioned earlier that we can have an application-level event aggregator as a </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:291pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">property of the </span><span style="font-family:CourierStd,serif;font-size:9.5pt">Application</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> object. This event aggregator can work as the common </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:304pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">channel via which the other modules can communicate, and that too without </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:317pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">interacting directly.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:338pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Even at the module-level, you may need a common event dispatcher only for that </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:350pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">module; the views, models, and collections of that module can use it to communicate </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:363pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">with each other. However, publishing too many events via a dispatcher sometimes </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:376pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">makes it difficult to manage them and you must be careful enough to understand </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:388pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">which events you should publish via a generic dispatcher and which ones you </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:401pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">should fire on a certain component only. Anyhow, this pattern is one of the best tools </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:413pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">to design a decoupled system, and you should always have one ready for use in your </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:426pt;left:107pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">module-based application.</span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:459pt;left:108pt"><b><span style="font-family:Arial,sans-serif;font-size:14pt">Using the mediator pattern</span></b></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:477pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">Sometimes,</span><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> you may find that too many relationships exist between the modules </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:490pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">of your app, and you need a central point of control that will help manage all the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:502pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">communication. This centralized system is called the mediator; it works as a </span><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">shared </span></i></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:515pt;left:108pt"><i><span style="font-family:BookAntiqua,serif;font-size:10.5pt">subject</span></i><span style="font-family:BookAntiqua,serif;font-size:10.5pt"> between a set of modules and promotes loose coupling by not referring to the </span></p>
<p style="position:absolute;white-space:pre;margin:0;padding:0;top:527pt;left:108pt"><span style="font-family:BookAntiqua,serif;font-size:10.5pt">modules explicitly. All the modules will have a reference to this mediator.</span></p>
</div>
